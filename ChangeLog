2007-05-21  KOIE Hidetaka <hide@koie.org> / shirai

	* emacs/mhc.el (mhc-edit): Set today's date to default date if
	necessary.

2007-03-26  Hideyuki SHIRAI  <shirai@quickhack.net>

	* samples/DOT.schedule.sample.jp: Change from Furikae-Kyujitsu to
	Kyujitsu.

2007-03-20  Hideyuki SHIRAI  <shirai@quickhack.net>

	* samples/DOT.schedule.sample.jp: Add some Furikae-Kyujitsu of
	extented Happy-Monday's low.
	Fix Furikae-Kyujitsu at 2009-9-22.

2007-02-19  Tatsuya Kinoshita <tats@vega.ocn.ne.jp> / nom

	* ruby-ext/lib/mhc-gtk.rb.in, ruby-ext/lib/mhc-kconv.rb:
	Improvement of charset selection.

2007-01-11  Yoshinari Nomura <nom@quickhack.net>

	* samples/DOT.schedule.sample.jp: Midori-no-hi moved.
          from OHARA Shigeki <os@iij.ad.jp>
	* emacs/MHC-MK: not to load ~/.lpath.el
          from Tatsuya Kinoshita <tats@vega.ocn.ne.jp>

2007-01-09  KOIE Hidetaka <hide@koie.org> / nom

	* samples/DOT.schedule.sample.jp: Add Showa Day.

2006-12-18  Yoshinari Nomura <nom@quickhack.net>

	* gemcal.in, ruby-ext/lib/mhc-gtk.rb.in:
	MhcScheduleEdit supports gtk2.

2006-12-18  Yoshinari Nomura <nom@quickhack.net>

	* configure.rb:
	patch from Tatsuya Kinoshita to enable the --with-ruby setting.

2006-12-18  Yoshinari Nomura <nom@quickhack.net>

	* gemcal.in, ruby-ext/lib/mhc-gtk.rb.in, ruby-ext/lib/mhc-kconv.rb:
	patch from Fumitoshi UKAI to support gtk2.
	segfault fix from Kazuhiro Nishiyama.
	(Thanks to Tatsuya Kinoshita for putting things together.)

2006-12-07  IRIE Tetsuya <irie@t.email.ne.jp>

	* emacs/mhc-gnus.el (mhc-gnus/encode-string): Bind
	`rfc2047-encoding-type' to avoid error.
	For more detail, see [mhc:02229]

2006-10-27  NOGUCHI Yusuke <nogunogu@mva.biglobe.ne.jp> / nom

	* mhc2ol.in: -A option added.

2006-06-15  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-vars.el (mhc-default-coding-system): Change default
	value to `iso-2022-7bit-ss2-unix'.

2006-04-25  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-summary.el (mhc-insert-overdue-todo): New user option.
	(mhc-overdue-todo-line-format): Ditto.
	(mhc-todo-line-format-alist): Add `?T' element.
	(mhc-summary-make-contents): Display overue todos on TODAY if
	`mhc-insert-overdue-todo' is non-nil.
	(mhc-summary-line-inserter-setup): Setup
	`mhc-overdue-todo/line-inserter'.
	(mhc-overdue-todo-line-insert): New function.

2006-04-04  Yoshinari Nomura <nom@quickhack.net>

	* emacs/mhc.el (mhc-modify-file): allow (mhc-draft-mode-hook) to
	                                  (goto-char).
	               (mhc-edit): ditto.

2005-12-04  KOIE Hidetaka <hide@koie.org> / nom

	* emacs/mhc.el (toplevel): add mhc-goto-date.
	* today.in (toplevel): add hown mode.

2005-11-27  KOIE Hidetaka <hide@koie.org> / nom

	* today.in (toplevel): support hown.

2005-11-04  KOIE Hidetaka <hide@koie.org> / tsuchiya

	* emacs/mhc-cvs.el (mhc-cvs/modify): Fix to avoid errors which
	caused by removal of schedule files.

2005-10-28  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-file.el (mhc-file-toggle-offline): Accept additional
	optional arguments.

	* emacs/mhc-gnus.el (mhc-gnus-setup): Toggle a network status
	based on `gnus-plugged', and add following functions to
	appropriate hooks.
	(mhc-gnus/plugged, mhc-gnus/unplugged): New functions.

2005-10-05  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-cvs.el (mhc-cvs/modify): Make a committed file
	writable after committed.
	(mhc-cvs/backend): Copy `process-environment' before calling
	`setenv'.

2005-10-04  NOGUCHI Yusuke <nogunogu@mva.biglobe.ne.jp> / shirai

	* emacs/mhc-parse.el (mhc-parse/strict): New internal variable.
	(mhc-parse/time): Add detailed error message. Add strict parsing
	mode.
	(mhc-parse/alarm-regexp): New regexp.
	(mhc-parse/alarm): Add detailed error message. Add strict parsing
	mode.
	(mhc-parse/internal-parser): Add third optional argument
	`strict'. Bind `mhc-parse/strict' to `strict'.
	(mhc-parse-buffer): Add third optional argument `strict'. Call
	mhc-parse/internal-parser() with `strict'.

	* emacs/mhc-draft.el (mhc-draft-finish): Call mhc-parse-buffer()
	with `strict'.

2005-10-03  NOGUCHI Yusuke <nogunogu@mva.biglobe.ne.jp> / nom

	* emacs/mhc-logic.el, emacs/mhc-parse.el: add detailed error messages.

2005-10-03  KOIE Hidetaka <hide@koie.org> / nom

	* ruby-ext/lib/mhc-schedule.rb (MhcLog#add_entry): add fsync.
	(MhcScheduleDB#makedir_or_higher): ditto.

2005-09-08 Yoshinari Nomura <nom@quickhack.net>

	* palm2mhc.in (toplevel): more fsync hack.

	* ruby-ext/lib/mhc-schedule.rb (File::utime2): more fsync hack.

2005-07-06 Yoshinari Nomura  <nom@quickhack.net>

	* palm2mhc.in (toplevel): hit fsync x 3 before clearing the pdb
		  dirty flag.
	(TNX, Mr. KOIE Hidetaka <hide@koie.org>)

2005-05-15  MIYOSHI Masanori  <miyoshi@meadowy.org>

	* emacs/mhc.el (mhc-delete-file-hook): New hook.
	(mhc-delete-file): Run `mhc-delete-file-hook'.
	Thanks to NOGUCHI Yusuke <nogunogu@mva.biglobe.ne.jp>.

2005-05-14  Yoichi NAKAYAMA  <yoichi@geiin.org>

	* emacs/mhc-wl.el (mhc-wl-summary-filename): Message with number
	100000 is not associated with file.

2005-05-02  MIYOSHI Masanori  <miyoshi@meadowy.org>

	* mhc2ol.in (usage): Add usage of `-H' option.
	(MhcScheduleItem#dump_without_header): New method.
	(Exporter#flag_export_part): New class variable.
	(Exporter#setup_ol_appointments): Don't dump header parts if
	flag_export_part is `body'.
	(Exporter#set_flag_export_part): New function.
	($flag_export_part): New variable and initialize it.
	Support new option `-H'.
	The preceding modifications are derived with a patch from NOGUCHI
	Yusuke <nogunogu@mva.biglobe.ne.jp>.

2005-04-24  KOIE Hidetaka <hide@koie.org> / nom

	* emacs/mhc-guess.el (mhc-guess-date-regexp-list): add regexp.

2005-04-04  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-guess.el (mhc-guess/make-date-from-english-relative-week):
	Check that a argument `rel-word' is a string before calling
	`downcase' in order to avoid wrong type argument error.

2005-03-23  Yoshiaki Kasahara <kasahara@nc.kyushu-u.ac.jp>

	* ruby-ext/lib/mhc-gtk.rb.in: Use explicit regexp

2005-03-16  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-guess.el (mhc-guess-date-regexp-list): Support new
	regex for Japanese duration.

2005-01-27  Yoichi NAKAYAMA  <yoichi@geiin.org>

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup): Bind
	elmo-localdir-folder-path to mhc-mail-path.

2005-01-27  Hideyuki SHIRAI  <shirai@rdmg.mgcs.mei.co.jp>

	* emacs/mhc-mew.el (mhc-mew-highlight-message): Highlight headers
	when import buffer has headers.

2005-01-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-gnus.el (mhc-gnus-insert-summary-contents): Pass null
	string to `mhc-gnus/make-full-mail-header' in order to avoid an
	error that occurs when executing `gnus-summary-print-article'.

2005-01-14  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-input-sequences): New option.
	(mhc-edit): Inquire the input by turns of `mhc-input-sequences'.

2004-11-26  Yoichi NAKAYAMA  <yoichi@geiin.org>

	* emacs/mhc-cvs.el (mhc-cvs/backend): Handle non-number return
	value of call-process.

2004-11-15  KOIE Hidetaka <hide@koie.org> / nom

	* ruby-ext/mhc_pilib.c
	(rpi_sock_listen): password hack for Palm OS 4.x.

2004-10-28  NOGUCHI Yusuke <nogunogu@mva.biglobe.ne.jp> / nom

	* emacs/mhc-guess.el: improvement of mhc-guess-location-regexp-list

2004-10-25  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* ruby-ext/lib/mhc-schedule.rb (MON_LONG_REGEX, WEK_LONG_REGEX):
	New constants.
	(MhcScheduleItem#add_cond, MhcScheduleItem#parse_xsc_headers):
	Accept full names of months and days of week, as well as shortened
	names.

	* ruby-ext/lib/mhc-date.rb (M_LONG_LABEL, W_LONG_LABEL): New
	constants.

	* .cvsignore:
	* ruby-ext/.cvsignore:
	* ruby-ext/lib/.cvsignore: New files.

	* emacs/.cvsignore: Add make.rb.

2004-10-24  Fumihiro Kato  <fumihiro@sfc.keio.ac.jp>

	* ruby-ext/lib/mhc-schedule.rb (MhcScheduleItem#select_headers):
	Initialize headers with null strings instead of undefined values.

2004-10-07  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-summary.el (mhc-use-month-separator): Support number
	of width.
	(mhc-summary/insert-separator): Display 'cw' number on monthly
	separator if it start of week.

	* emacs/mhc.el (mhc-scan-month): Insert a weekly separator instead
	a monthly separator when don't use monthly separator.
	Display 'cw' number on monthly separator if it start of week.

2004-09-16  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/make.rb.in: Fix '--with-mew' option.

2004-09-13  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-goto-today): Execute beginning-of-line();
	Emacs-21.3.50 something wrong?

	* emacs/mhc-mew.el (mhc-mew-summary-mode-setup): Fix last change.

2004-09-08  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el (mhc-edit): Remove schedule headers just before
	inserting new schedule headers.

	* emacs/mhc-db.el (mhc-db-add-exception-rule): Call
	`mhc-draft-reedit-file' instead of `mhc-draft-reedit-buffer', in
	order to avoid double-decoding problem in Gnus and SEMI-MUAs.

	* emacs/mhc-minibuf.el (mhc-input-location): Use default value.

2004-09-08  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-summary-mode-setup): Support Mew
	4.0.69 or later.

2004-06-22  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-palm.rb:
	(PilotApptRecord#set_monthly_by_day): fix typo.

	* ruby-ext/lib/mhc-date.rb: (MhcDate::O_LABEL): capitalized.

	* ruby-ext/lib/mhc-schedule.rb:
	(MhcScheduleItem#dump_without_xsc_header):
	if no description, don't convert non X-SC headers.

	(MhcScheduleItem#mk_palm_skel):
	if contents is empty, don't set note.

	(TNX, Mr. KOIE Hidetaka <hide@koie.org>)

2004-06-15  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-palm.rb
	(PilotApptRecord#to_xsc): Put only start in X-SC-Time: in case
		                  satrt is same as end.
	(TNX, Mr. KOIE Hidetaka <hide@koie.org>)

	* ruby-ext/lib/mhc-schedule.rb
	(MhcScheduleItem#to_palm): correct handling of 'Last' keyword.
	(TNX, Mr. KOIE Hidetaka <hide@koie.org>)

2004-05-27  Yoshiaki Kasahara  <kasahara@nc.kyushu-u.ac.jp>

	* gemcal.in (MhcScheduleEdit::initialize): Fix arguments for
	border_width.

2004-05-05  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-gnus.el (mhc-gnus-summary-mode-setup): Reset caches
	kept by backlog mechanism and `gnus-original-article-buffer', in
	order to fix the problem that correct articles are not selected
	after deleting a schedule.

2004-05-04  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el (toplevel): Add autoload of `easy-menu-add' to
	suppress a byte-compile warning.
	(mhc-edit): Highlight an import buffer before confirmation.  Do
	not call `mhc-highlight-message' by itself.
	(mhc-default-import-original-article): New option.
	(mhc-import): Check the above option.
	(mhc-modify-file): Do not call `mhc-highlight-message' by itself.
	Move the cursor to the top of the draft buffer.

	* emacs/mhc-calendar.el (toplevel): Add autoload of `hnf-mode' and
	bindings of `hnf-diary-year-directory-flag' and `hnf-diary-dir' to
	suppress byte-compile warnings.

	* emacs/mhc-draft.el (mhc-draft-highlight): Abolished.
	(mhc-draft-mode): Call `mhc-highlight-message'.

	* emacs/mhc-face.el (mhc-facep): Modified to suppress byte-compile
	warning.

	* emacs/mhc-gnus.el (mhc-gnus/decode-buffer): New function.
	(mhc-gnus-decode-header): Call the above function to decode
	headers that are not encoded in MIME format.
	(mhc-gnus-draft-reedit-buffer): Ditto.  Decode MIME-encoded
	headers even if Content-Type header is not found.

	* emacs/mhc-logic.el (toplevel): Add bindings of `day-list',
	`duration-begin', `duration-end', `month-list' and
	`require-duration' to suppress byte-compile warnings.

2004-05-02  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/MHC-MK (make-mhc/module-alist): Check that mime-edit.el is
	available when before byte-compiling mhc-mime.el for Gnus.

	* emacs/mhc-draft.el (mhc-draft-unuse-hdr-list): Add Gnus-Warning.

2004-05-01  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el (mhc-edit): Call `mhc-draft-mode' before calling
	`mhc-highlight-message', in order to keep buffer-local variables
	created by `mhc-gnus-highlight-message'.

	* emacs/mhc-gnus.el (mhc-gnus-draft-translate): Do not add
	User-Agent header.  Add Date header and From header.
	(mhc-gnus-draft-reedit-buffer): When no MIME header is found,
	decode an input text instead of converting it to a human-editable
	text written in MML.
	(mhc-gnus-get-import-buffer): Call `gnus-copy-article-buffer'
	instead of refering `gnus-article-buffer' directly.
	(mhc-gnus-highlight-message): Use `message-font-lock-keywords' to
	fontify drafts.

	* emacs/mhc-draft.el (mhc-draft-unuse-hdr-list): Add some headers.

	* emacs/mhc-gnus.el: Rewritten to support both original Gnus and
	T-gnus.

2004-04-01  Mimpei MORISHITA <mimpei@cac.co.jp> / Yoshinari Nomura

	* emacs/mhc-guess.el: brush up English date recognition.

2004-03-31  Mimpei MORISHITA <mimpei@cac.co.jp> / Yoshinari Nomura

	* emacs/mhc-guess.el: Recognize some english date format.

2004-01-12  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-date.rb, today.in: ruby 1.8 syntax compliant.

2004-01-04  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew/header-string): Support the new format
	of summary for Mew 4.
	(mhc-mew/header-string-review): Ditto.

2003-12-19  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-edit): Ask Alarm when direct input.
	(TNX, Mr. Toshihiko SHIMOKAWA <toshi@is.kyusan-u.ac.jp>)

2003-11-05  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-guess.el (mhc-guess-location-list): New user option.
	(mhc-guess/location-regexp-list): New internal variable.
	(mhc-guess-location-setup): New function.
	(mhc-guess-location): Use `mhc-guess/location-regexp-list'
	instead of `mhc-guess-location-regexp-list'.

	* emacs/mhc.el (mhc-setup, mhc-reset): Call
	`mhc-guess-location-setup'.

2003-11-03  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* ruby-ext/lib/mhc-date.rb (MhcTime::<=>): Verify that the types
	are consistent.
	(MhcDate::<=>): Ditto.

2003-10-29  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* ruby-ext/lib/mhc-schedule.rb (MhcScheduleItem::init_by_string):
	Pass a regex as the first argment instead of a string.

	* ruby-ext/lib/mhc-palm.rb (PilotRecord::attribute_string): Remove
	a redundant space between method and a open brace.

	* mhc2ol.in (Period::get_duration): Use `nil?' for ruby-1.8.
	(Exporter::setup_ol_appointments): Don't use `$=' for ruby-1.8.
	(Exporter::export): Don't use `=~' for ruby-1.8.
	($flag_category_regexp): Initialize with a Regexp object.

2003-10-14  Hiroya Murata <lapis-lazuli@pop06.odn.ne.jp> / nom

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup): Bind
	`wl-summary-lazy-highlight' and `wl-summary-lazy-update-mark' to nil.

2003-10-13  Yoshinari Nomura  <nom@quickhack.net>

	* configure.rb: Change default path for gemcal xpm.

2003-10-13  Toshiaki Tanaka <toc@yan.ne.jp> / nom

	* emacs/mhc-vars.el (mhc-category-as-private): New variable.

	* emacs/mhc-summary.el (mhc-summary/insert-dayinfo):
	Use mhc-category-as-private.
	(mhc-summary-make-todo-list): Ditto.
	(mhc-summary-make-memo-list): Ditto.

2003-10-10  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc.el (mhc-edit): ask Alarm: if mhc-ask-alarm is non-nil.

	* emacs/mhc-vars.el (mhc-default-alarm, mhc-ask-alarm): New variables.

	* emacs/mhc-minibuf.el (mhc-alarm-hist): New variable.
	(mhc-input-alarm): New function.

	* emacs/mhc-guess.el (mhc-guess-location-regexp-list): brushup regexp.

	* emacs/mhc.el (mhc-version): New function.

	* emacs/mhc-vars.el (mhc-version): add version string.

	* emacs/mhc-guess.el, emacs/mhc-minibuf.el:
	Experimental implementation of guess-location.

2003-07-28  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* mhc2ol.in (Period.initialize): Carry over schedules which are
	later than 24:00.
	(Period.get_time): New method.
	(Exporter.setup_ol_appointments): Derive stime and etime out of
	period instead of sch.

2003-06-16  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-file.el (mhc-file-make-directory): Remove trailing
	slashes when `make-directory'.

2003-06-06  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-draft-translate): When error occur,
	display message of Mew's one if possible.

2003-05-12  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Use format-string. Thanks to
	Yoichi NAKAYAMA <yoichi@geiin.org> for his suggestion.

	* emacs/mhc-cvs.el (mhc-cvs/unknown-file): Correct the wrong use
	of `message'.  Thanks to Yoichi NAKAYAMA <yoichi@geiin.org> for
	his suggestion.

2003-04-28  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* mhc2ol.in (MonthlyByDow.handle_recurrence): Limit the range of
	rp.Instance to 5 which means the last week.
	(MhcScheduleItem.to_outlook): Lower the case of ord_str.

2003-04-15  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew/header-string)
	(mhc-mew/header-string-review): Use 'mhc of invisible property
	value.
	(mhc-mew-summary-mode-setup): Exec mew-summary-set-count-line()
	if exist this.

2003-03-07  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* mhc2ol.in (usage): New options `-m' and `-d'.
	(Exporter): New class varialbes @@mhc_category_name and
	(Exporter): @@additional_category = false.
	(Exporter.setup_ol_appointments): Append `MHC-sch' category to
	Outlook appointments and tasks.
	(Exporter.setup_ol_appointments): Improve the condition to save an
	Outlook appointment. Thanks to sakura@tennodai.com.
	(Exporter.setup_ol_appointments): Improve the derivation of
	task.DueDate.  Thanks to sakura@tennodai.com.
	(Exporter.delete_ol_schedules): Support `-d' option.
	(Exporter.set_flag_discreet): New method.
	(Exporter.set_flag_additional_category): Ditto.

2003-03-06  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* mhc2ol.in (RepeatPattern.Period.get_duration): Return 60 * 24
	minutes if either @edate or @sdate is nil.  Support `-s' option.
	(MhcScheduleItem.to_outlook): Assumu NonRepeat if either time_b or
	time_e is valid.
	(Exporter.setup_ol_appointments): Get duration with period
	.get_duration().
	(Exporter.setup_ol_appointments): Don't set a reminder is any
	alarms are not set.
	(Exporter.setup_ol_appointments): Don't save an appointment with
	`-s' option.
	(Exporter.setup_ol_appointments): Don't set a reminder to a task.
	(Exporter.delete_unmanaged_schedules): Don't delete schedules with
	`-n' option. Thanks to Toshihiko SHIMOKAWA
	<toshi@is.kyusan-u.ac.jp>.
	(Exporter.write_sync_info): Don't update sync_info with `-n'
	option.
	(Exporter.delete_ol_schedules): Don't delete Outlook appointments
	with `-n' option.
	($flag_separation): New varialbes.
	Initialize Outlook even if `-n' option is specified.

2003-02-26  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* mhc2ol.in (RepeatPattern): Add instance varialbes for start time
	and end time.
	(RepeatPattern::get_recurrence): New method.
	(MhcScheduleItem::to_outlook): Set AllDayEvent flag if both of
	stime and etime are not nil.

2003-02-24  Yoshinari NOMURA  <nom@quickhack.net>

	* adb2mhc.in: fix local security problem.

2003-01-21  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (mhc-calendar/view-summary-insert): Don't
	over window-width.
	(mhc-calendar/create-buffer): Fit to 80colum display.
	(mhc-calendar/put-property-date): Fix bug; don't put date
	property to cw number.

2003-01-08  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-summary-mode-setup): Set `vinfo-flds'
	for Mew 3.1.50 or later.

2002-12-03  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-redisplay-import): New user variable.
	(mhc-mew-get-import-buffer): If `mhc-mew-redisplay-import' is
	non-nil, re-display message with no hooks and no X-Face.

2002-12-01  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Use `mhc-misc-get-width'.

	* emacs/mhc-summary.el (mhc-summary/insert-separator): Use `mhc-misc-get-width'.

	* emacs/mhc-misc.el (mhc-misc-get-width): New function.

	* emacs/mhc-calendar.el (mhc-calendar/view-summary-insert): Call
	`mhc-summary/insert-separator' with fix width.

2002-11-21  Yoshinari NOMURA  <nom@quickhack.net>

	* ruby-ext/mhc_pilib.c (rldp_ReadAppBlock):
	add application info

	* ruby-ext/extconf.rb.in (toplevel):
	add LDFLAGS for FreeBSD

	* configure.rb (toplevel):
	add some items to lib_search_path and inc_search_path for NetBSD.

2002-11-11 Yoichi NAKAYAMA <yoichi@eken.phys.nagoya-u.ac.jp> / nom

	* emacs/mhc-cvs.el, emacs/mhc-e21.el, emacs/mhc-file.el,
	  emacs/mhc-ps.el, emacs/mhc-sync.el, emacs/mhc-xmas.el,
	  emacs/mhc.el, emacs/mhc-bm.el, emacs/mhc-calendar.el:

	  Support the following coding convention:
	    Many commands that take a long time to execute display a message
	    that says something like `Operating...' when they start, and
	    change it to `Operating...done' when they finish.  Please keep the
	    style of these messages uniform: _no_ space around the ellipsis,
	    and _no_ period after `done'.

2002-11-09  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* mhc2ol.in: Remove an irrelevant substitution of DayOfMonth in
	YearlyNth.

2002-11-06  Yuuichi Teranishi  <teranisi@gohome.org>

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup): Follow the recent
	change on modeline format.

2002-10-29  Yoichi NAKAYAMA <yoichi@eken.phys.nagoya-u.ac.jp> / shirai

	* emacs/mhc-vars.el (mhc-use-wide-scope): Fix type.

2002-10-28  HASHI Hiroaki  <bridge@st.rim.or.jp> / nom

	* ruby-ext/lib/mhc-schedule.rb (priority_as_string):
	accept zero as null string.

2002-10-28  Yoshinari NOMURA  <nom@quickhack.net>

	* ruby-ext/lib/mhc-palm.rb: add methods for address book.

2002-10-16  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-gnus.el (toplevel): Set `eword-decode-string' for
	Oort-Gnus; Add autoloads for `gnus-copy-article-buffer',
	`rfc2047-encode-string', `eword-encode-string', to suppress
	byte-compile warning.
	(mhc-gnus-encode-string): Simplified.
	(mhc-gnus-insert-summary-contents): Adhoc fix to disable
	byte-compile of `make-full-mail-header' to keep compatibity
	between T-gnus and Oort-Gnus.
	(mhc-gnus-highlight-message): Adhoc fix to avoid errors in
	`gnus-article-add-buttons'.
	(mhc-gnus-decode-string): New alias to `rfc2047-decode-string'.

2002-10-15  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-minibuf.el (mhc-input-category): Use completing
	method when `completing-read-multiple' exists.
	Tkanks to Mr. Yoichi NAKAYAMA.

	* emacs/mhc-e21.el (mhc-input-category): Move to mhc-minibuff.el.

2002-10-03  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (mhc-calendar-count-days-region): Display
	number of weeks. Thanks to Mr. KOIE Hidetaka.

2002-10-03  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* icons/Vacation.xpm: Correct invalid data.

2002-10-02  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* emacs/mhc.el: Make use of the image feature of Meadow2.

2002-09-26  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-summary.el (mhc-summary-line-format): Change default
	value for 'english.
	(mhc-summary-line-format-alist): Add `S' rule.
	(mhc-todo-string-deadline-day): Remove no good space.
	(mhc-summary-make-memo-list): Support `category-predicate'.

2002-09-25  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-mode-menu-spec): Bind `mhc-reset'.
	(mhc-mode-map): Ditto.
	(mhc-mode): Add doc-sting for `mhc-reset'.
	(mhc-reset): New function.

	* emacs/mhc-calendar.el (mhc-calendar-mode-map): Bind `mhc-reset'.
	(mhc-calendar-mode-menu-spec): Ditto.
	(mhc-calendar-mode): Add doc-sting for `mhc-reset'.
	(mhc-calendar-setup): Guard from illegal value.

2002-09-24  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Use `frame-width' instead of
	`window-width'. Guard error of make-string with minus count.

	* emacs/mhc-summary.el (mhc-summary/cw-separator)
	(mhc-summary/cw-week): New variables.
	(mhc-summary/insert-separator, mhc-summary-make-contents):
	Support `mhc-summary/cw-separator'.
	(mhc-summary/line-day-of-week-string)
	(mhc-summary/line-day-of-week-ja-string): Use
	`mhc-summary/cw-week' insted of 'mhc-summary-use-cw'.
	(mhc-summary/make-string): New inline function.
	(mhc-summary/insert-separator): Use `frame-width' instead of
	`window-width'. Guard error of make-string with minus count.

	* emacs/mhc-face.el (mhc-symbol-face-alist-internal): Add
	`mhc-summary-face-cw'.

2002-09-23  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Use `mhc-calendar-width'.

	* emacs/mhc-summary.el (mhc-summary-language): New user variable.
	(mhc-summary-use-cw): Ditto.
	(mhc-summary-line-format): Support `mhc-summary-language'.
	(mhc-todo-string-remaining-day): Ditto.
	(mhc-todo-string-deadline-day): Ditto.
	(mhc-todo-string-excess-day): Ditto.
	(mhc-todo-string-heading): Ditto.
	(mhc-todo-string-done): Ditto.
	(mhc-todo-string-not-done): Ditto.
	(mhc-summary-line-format-alist): Add japanese support.
	(mhc-summary/insert-separator): Use `mhc-calendar-width'.
	(mhc-summary/line-day-of-week-string): Support `Calendar week
	number'.
	(mhc-summary/line-day-of-week-ja-string): New function.

	* emacs/mhc-face.el (mhc-symbol-face-alist-internal): Add
	`mhc-calendar-face-cw'.

	* emacs/mhc-calendar.el (mhc-calendar-use-cw): New user variable.
	(mhc-calendar-cw-indicator): Ditto.
	(mhc-calendar-next-offset): Ditto.
	(mhc-calendar-day-strings): Chage default value.
	(mhc-calendar-start-column): Dito.
	(mhc-calendar-width): New variable.
	(mhc-calendar/cw-week): New macro.
	(mhc-calendar/cw-string): Ditto.
	(mhc-calendar-setup): Support `Calendar week number'. Modify
	`mhc-calendar-day-strings' handling.
	(mhc-calendar-make-header): Support `Calendar week number'.
	(mhc-calendar-make-header-ja): Ditto.
	(mhc-calendar/make-rectangle): Support `Calendar week number'.

2002-09-23  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-date.el (mhc-date/iso-week-days): New inline function.
	(mhc-date-cw): Ditto.

2002-09-19  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Use `mhc-end-day-of-week'.

	* emacs/mhc-vars.el (mhc-start-day-of-week): New user variable.

	* emacs/mhc-summary.el (mhc-use-week-separator): Change semantics
	of variable.
	(mhc-summary-make-contents): Use `mhc-end-day-of-week'.

	* emacs/mhc-date.el (mhc-end-day-of-week): New macro.

	* emacs/mhc-calendar.el (mhc-calendar-language): New user
	variable.
	(mhc-calendar-day-strings, mhc-calendar-header-function)
	(mhc-calendar-use-duration-show): Change default variable.
	(mhc-calendar-make-header): More colorful.
	(mhc-calendar/make-rectangle): Treat `mhc-start-day-of-week'.

2002-09-17  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Fixed parenthesis.

2002-09-11  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Call
	`mhc-summary-make-todo-memo' when insert Todo and Memo.

	* emacs/mhc-vars.el (mhc-insert-memo-list): New user variable.
	(mhc-insert-zombi-list): Remove.

	* emacs/mhc-summary.el (mhc-memo-line-format)
	(mhc-memo-string-heading): New user variable.
	(mhc-memo/line-inserter, mhc-memo-line-format-alist): New
	variable.
	(mhc-summary-make-todo-memo, mhc-summary-make-memo-list)
	(mhc-memo-line-insert): New function.
	(mhc-summary-make-zombi-list): Remove.
	(mhc-summary-line-inserter-setup): Add mode line setup.

	* emacs/mhc-db.el (mhc-db-scan-memo): New function.
	(mhc-db-scan-zombi): Remove.

2002-09-10  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): Insert zombi schedule if
	`mhc-insert-zombi-list' is non-nil.

	* emacs/mhc-vars.el (mhc-insert-zombi-list): New user variable.

	* emacs/mhc-summary.el (mhc-summary-make-zombi-list): New
	function.

	* emacs/mhc-db.el (mhc-db-scan-zombi): Ditto.

2002-09-07  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-db.el (mhc-db-scan-todo): Support funny Todo so it has
	no `day'. (TNX, Mr. MINABE Oki <minabe@kitanet.ne.jp>)

2002-09-06  T.Tanaka <toc.tanaka@toshiba.co.jp>

	* mhc2ol.in: Support `priority' feature.

	* ruby-ext/lib/mhc-schedule.rb: Ditto.

2002-09-05  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (all): Brush up all code.
	(mhc-calendar-height-offset): Chage default value for XEmacs.
	(mhc-calendar/select-comp-active): New internal variable.
	(mhc-calendar/select-comp): Use advice of
	`choose-completion-string' insted of takeover the funciton.
	(mhc-calendar/hnf-ignore-categories): New internal variable.
	(mhc-calendar-hnf-edit): Rewrite.

	* emacs/mhc-db.el (mhc-db-scan-todo): Sort schedule data with
	deadline.

2002-06-21  Akira Funahashi <funa@funa.org> / nom@quickhack.net

	* ruby-ext/mhc_pilib.c: USB support.

2002-03-28  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew/match-string): New aliase symbol.
	(mhc-mew-draft-translate, mhc-mew-eword-decode-string): Use
	`mhc-mew/match-string' instead of `mew-match'.

2002-03-15  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-new-virtual-type): New variable.
	(mhc-mew/summary-filename-regex, mhc-mew/schedule-foldermsg):
	Support Mew 3.0.55 or later.

2002-02-07  Yuuichi Teranishi  <teranisi@gohome.org>

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup): Setup
	wl-message-buffer-prefetch-get-next-function.

2002-02-02 ABE Yasushi <yasushi@stbbs.net> / nom@quickhack.net

	* ruby-ext/lib/mhc-schedule.rb
	(MhcScheduleItem#todo?): New function.
	(MhcScheduleItem#sch_to_slot): Change for TODO articles.

2002-01-16  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-get-import-buffer): Support Mew 3.0 or
	later.

2002-01-11  Yuuichi Teranishi  <teranisi@gohome.org>

	* emacs/mhc-wl.el (mhc-wl-summary-exit): Call
	`wl-summary-toggle-disp-msg'.

2002-01-08  Yuuichi Teranishi  <teranisi@gohome.org>

	* emacs/mhc-wl.el (mhc-wl-summary-exit): Delete other windows
	if exit buffer is folder mode.

2001-12-25  Yuuichi Teranishi  <teranisi@gohome.org>

	* emacs/mhc.el (mhc-minibuf): Changed order of `require'.

	* emacs/mhc-wl.el (mhc-wl-summary-filename): Cause an error when
	no message exists on buffer.

	* emacs/mhc-e21.el (mhc-input-category): Define with
	`completing-read-multiple'.

	* emacs/mhc-minibuf.el (mhc-input-category): Define only when
	it is not defined.

2001-10-30  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* emacs/mhc.el: Use bitmap-mule on NTEmacs21.

2001-10-28  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* ruby-ext/lib/mhc-kconv.rb: Renamed from mhc-kconv.rb.in.
	Change my mail address.
	(MhcKconv): Detect kanji code in runtime.

	* emacs/mhc-calendar.el: Change my mail address.

	* mhc2ol.in (RepeatPattern::Period::get_duration): New method.
	(usage): Improve command-line help.
	(Exporter::setup_ol_appointments): Set duration of schedules
	explicitly.

	* configure.rb: remove ruby-ext/lib/mhc-kconv.rb.in.

2001-10-17  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-guess.el (mhc-guess/guess):
	sort consider match length in case scores are same.

2001-10-14  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* 00readme.w32.jis: Add a way to specify MUA using configure.rb.

2001-10-12  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* mhc2ol.in: Use `::' accesser instead of const_get().

2001-10-08  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* 00readme.w32.jis: Disable `palm' in the easy installation.

2001-10-07  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* 00readme.w32.jis: Update information on pilot-link.

2001-10-01  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* emacs/make.rb.in: Validate options those are set with opt.
	Correct MUA options.
	Substitute the current directory for PWD on Windows.

2001-09-30  MIYOSHI Masanori  <miyoshi@boreas.dti.ne.jp>

	* 00readme.w32.jis: Add information on mhc2ol.

	* 00usage.jis: Ditto.

	* configure.rb: Add an entry of mhc2ol.

	* make.rb.in: Ditto.

	* mhc2ol.in: New file.

2001-09-13  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc.el (toplevel): Require 'cl at compile time;
	Require 'poe and 'pcustom on Mule 2.3.

	* emacs/mhc-parse.el (mhc-parse/internal-parser): Use `format' to
	get rid of text property on header field name string.

	* emacs/mhc-calendar.el (mhc-calendar/tp-any): Define using
	defsubst instead of defalias.

2001-09-13  Toshihiko SHIMOKAWA  <toshi@tea.forus.or.jp>

	* mhc2palm.in: modify progress message.

2001-09-12  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-palm.rb (PilotApptRecord#to_xsc):
	create X-SC-Location from a string srounded by '[' and ']' in
	Palm's description field.

	* ruby-ext/lib/mhc-schedule.rb (MhcScheduleItem#to_palm):
	Append the value of X-SC-Location enclosing by '[' and ']'
	to Palm's description field.

2001-08-07  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-draft-translate): Catch the error for
	the illegal headers.

2001-07-16  Yoshinari NOMURA  <nom@quickhack.net>

	* emacs/mhc-guess.el (mhc-guess-time-regexp-list):
	change a hankaku colon (typo) to the zenkaku one.
        Thanks to Mr. KOIE Hidetaka.

2001-06-25  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-guess.el: clever mhc-guess-time-regexp.

2001-06-20  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-wl.el (mhc-wl-highlight-message): Follow the changes
	in Wanderlust 2.6.x and 2.7.x.
	(mhc-wl-insert-summary-contents): Ditto.
	(mhc-wl-summary-mode-setup): Ditto.
	(mhc-wl-summary-next-message): New function.

2001-06-15  Hideyuki SHIRAI  <shirai@quickhack.net>

	* samples/DOT.schedule.sample.jp: Fix 'UMI-NO-HI', 'KEIROU-NO-HI'
	and 'FURIKAE-KYUJITSU' to be accompanied by 'Happy Monday low'.

2001-05-30  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-draft-reedit-file): Fix 'raw JIS' vs
	'mew-decode-broken'.

2001-05-28  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-rescan-month): Move to column '1',
	first. Because current-column() returns a wrong value if point at
	the invisibly text on line-top.

2001-05-22  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-schedule.rb (File#utime2):
	update mtime surely in case FreeBSD.

2001-05-10  Yoshinari Nomura <nom@quickhack.net>

	* configure.rb: xpm path is now configurable.
	search /usr/include/libpisock in checking libpisock.
	(Thanks to Fumitoshi UKAI <ukai@debian.or.jp>)

	* ruby-ext/extconf.rb.in:
	remove embeded LD_RUN_PATH.
	(Thanks to Fumitoshi UKAI <ukai@debian.or.jp>)

2001-04-10  Yoshiaki Kasahara  <kasahara@nc.kyushu-u.ac.jp>

	* mhc-make.rb (MhcConfigTable): 'default' fields should be a
	string.

2001-04-05  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-mime.el (mhc-mime-decode-header): Ad-hoc fix for
	`X-SC-Schedule' header.
	(mhc-mime/draft-reedit): Use `mhc-mime-decode-header'.

2001-03-21  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-vars.el (mhc-vertical-calendar-length): Allow cons of
	integer.

	* emacs/mhc-calendar.el (mhc-calendar-insert-rectangle-at): Option
	month allow cons of integer.

2001-03-21  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-calendar.el, emacs/mhc-vars.el, emacs/mhc.el:
	mhc-vertical-calendar-length: New variable.

2001-03-13  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-signal.rb (signal_disconnect):
	  use `delete' to remove items from a hash.

	* mhc-make.rb (install):
	  dig destination directories before installation.

2001-03-10  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-calendar.el (toplevel): Condition to define
	`easy-menu-add' is changed to avoid redundancy of definition.

2001-03-05  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc.el (mhc-scan-month):
	Set `mhc-summary-buffer-current-date-month' before inserting summary
	contents.

	* emacs/mhc-wl.el (toplevel): Require 'static.
	(mhc-wl-summary-filename): Added definition for luna-fied API.
	(mhc-wl-insert-summary-contents): Modified for `mhc-use-wide-scope'.
	(mhc-wl/date-to-folder): Ditto.
	(mhc-wl-summary-mode-setup): Set `wl-summary-buffer-folder-indicator';
	Follow the luna-fied API.

2001-02-16  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-summary-mode-setup): Follow suit for
	Mew-1.95b104 or later. Disable highlight summary metod.
	(mhc-mew-highlight-message): Ditto. Check lost functions.

2001-02-09  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-cmail.el (mhc-cmail-setup): Set mhc-mailer-package value
	early mhc-setup() execution.

	* emacs/mhc-gnus.el (mhc-gnus-setup): Ditto.

	* emacs/mhc-mew.el (mhc-mew-setup): Ditto.

	* emacs/mhc-wl.el (mhc-wl-setup): Ditto.

	* emacs/mhc-header.el (mhc-header-valid-p): New function.

	* emacs/mhc-cvs.el (mhc-cvs/update-dirs-exist): Remove function.
	(mhc-cvs/update-dirs): Don't check 'CVS' directory.
	(mhc-cvs/unknown-file): Check unknown file seem to MHC file. Add
	mhc-log if file is commit.

2001-02-09  INOUE Tomonori <inouetom@brain.is.kyushu-u.ac.jp>

	* emacs/mhc-bm.el (mhc-bm-icon-alist): fix typo.

2001-02-09  Yoshinari Nomura  <nom@quickhack.net>

	* 00usage.jis: Change documents of palm2mhc.

	* experimental/my-meeting2000 (toplevel):
		Add IPv6 localhost to the access list.

	* palm2mhc.in (toplevel): Speak when connected.
	            Change defalt directory for -a.
	            Ether yes or y will do as an answer.

2001-02-06  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-schedule.rb (MhcScheduleItem): 1.4/1.6 compliant.

	* ruby-ext/lib/mhc-palm.rb (PilotApptRecord#conv_note): Ditto.

2001-02-03  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-schedule.rb (MhcSchedule::occur_min/max):
	  Sometimes palm makes empty @day - @exception.
	  ex. X-SC-Day: 20000911 !20000911
	  workaround for that problem.

2001-02-01  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-cvs.el (mhc-cvs/unknown-file): Treat character when ignore
	case.

	* emacs/mhc-ps.el (mhc-ps): Ditto.
	(mhc-ps, mhc-ps-preview, mhc-ps-print, mhc-ps-save,
	mhc-ps-insert-buffer): Use mhc-current-date-month() instead of
	mhc-current-date().

2001-01-31  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-prefix-map, mhc-mode-menu-spec): Add new keybind
	and new menu.
	(mhc-goto-today): Move to cursol to 1st day of month when not today.
	(mhc-rescan-month): Scan this month when called non mhc summary
	buffer.
	(mhc-scan-month): Support Wide Scope summary.
	(mhc-browse-x-url): "X-Uri" header handling.
	(mhc-month-hist, mhc-input-month, mhc-input-time-regex,
	mhc-subject-hist, mhc-input-subject, mhc-location-hist,
	mhc-input-location, mhc-category-hist, mhc-input-category):
	Move to mhc-minibuf.el

	* emacs/mhc-minibuf.el (mhc-month-hist, mhc-input-month,
	mhc-input-time-regex, mhc-subject-hist, mhc-input-subject,
	mhc-location-hist, mhc-input-location, mhc-category-hist,
	mhc-input-category): Move from mhc.el.

	* emacs/mhc-face.el (mhc-symbol-face-alist-internal): Add
	mhc-summary-face-month-separator.

	* emacs/mhc-vars.el (mhc-use-wide-scope): New customizable variables.

	* emacs/mhc-sync.el (mhc-sync/start-process): Add option 'full'.

	* emacs/mhc-file.el (mhc-file-sync-enable-offline): New customizable
	variables.
	(mhc-file-toggle-offline): Add 'full' option.
	(mhc-file-sync): Add 'full' option. enable-offline handling.

	* emacs/mhc-cvs.el (mhc-cvs-default-update-duration): New customizable
	variables.
	(mhc-cvs/backend): Option require a list argument.
	(mhc-cvs/close, mhc-cvs/add, mhc-cvs/modify): Call mhc-cvs/backend()
	with list argument.
	(mhc-cvs/sync): Ditto. Add 'full' option.
	(mhc-cvs/update-dirs, mhc-cvs/update-dirs-exist): New functions.
	(mhc-cvs/update): Call mhc-cvs/backend() with list argument. Add
	'full' option. Unknown files handling.
	(mhc-cvs/unknown-file): New function.

	* emacs/mhc-logic.el (mhc-logic-parse-day): nrevers at days.

	* emacs/mhc-summary.el (mhc-use-month-separator,
	mhc-summary-month-separator): New customizable variables.
	(mhc-summary/insert-separator): Handling wide scope.

	* emacs/mhc-ps.el (mhc-ps): New function for easy PostScript handling.

2001-01-30  OHARA Shigeki <os@iij.ad.jp>

	* mhc-make.rb: Fixed $? bug.

2001-01-22  Yoshinari Nomura  <nom@quickhack.net>

	* mhc-make.rb, ruby-ext/lib/mhc-date.rb, ruby-ext/lib/mhc-palm.rb,
	  ruby-ext/lib/mhc-schedule.rb:
	  ruby 1.6.2 compliant.

2001-01-22  Yukihiro Matsumoto <matz@zetabits.com> / nom@quickhack.net

	* emacs/mhc-cmail.el: Fix C-c.|

2000-12-20  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-ps.el (mhc-ps/string): Calculate '/startday' from
	"1/1/2032" instead of "1/1/2000".

	* today.in: Ditto.

2000-12-19  Kazuhiro NISHIYAMA <zn@mbf.nifty.com> / nom@quickhack.net

	* mhc-make.rb: filter -> collect.

2000-12-15  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (mhc-calendar-toggle-insert-rectangle):
	Function come back.

2000-12-15  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-wl.el (mhc-wl-mime-get-mime-structure): New function.
	(toplevel): Register `mhc-wl-mime-get-mime-structure'.

	* emacs/mhc-e21.el: New file.

	* emacs/MHC-MK (make-mhc/module-alist): Added setting for mhc-e21.

	* emacs/mhc.el (toplevel): require 'mhc-e21 if Emacs-21.x.

	* emacs/mhc-mime.el (mhc-mime-get-mime-structure): Fixed doc-string.

2000-12-14  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-date.el (mhc-date-digit-to-ww-string): Typo fix.

	* emacs/mhc-face.el (mhc-symbol-face-alist-internal): Add face
	for mhc-calendar-face-duration.

	* emacs/mhc-summary.el (mhc-decode-header): New function for all
	header decoding.

	* emacs/mhc-gnus.el (mhc-gnus-decode-header): New function.

	* emacs/mhc-mew.el (mhc-mew-decode-rfc822-header): Ditto.

	* emacs/mhc-mime.el (mhc-mime-decode-header): Ditto.

	* emacs/mhc-wl.el (top level): Put mhc-mime-decode-header.

	* emacs/mhc-calender (mhc-calendar-height-offset,
	mhc-calendar-inserter-date-list, mhc-calendar-use-duration-show):
	New customizable variables.
	(mhc-calendar/inserter-type, mhc-calendar/inserter-for-minibuffer,
	mhc-calendar/inserter-for-draft, mhc-calendar/mark-date):
	New internal variables.
	(All  ^^;): Renewal both a duration show method and a data selecting
	method.

2000-12-13  Keiichi Suzuki <keiichi@nanap.org> / nom@quickhack.net

	* emacs/mhc-gnus.el, emacs/mhc-mime.el: some changes for Nana7.

2000-12-13  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-guess.el (mhc-guess/make-date-from-yyyymmdd):
	New function to support new date format yyyy-mm-dd.

2000-11-07  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-draft-translate): Fix, multipart message
	does not have 'cte' when imported.

2000-11-02  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-cvs.el (mhc-cvs/add): Use write-region() instead of
	copy-file() when 'filename' is a directory.
	(mhc-cvs/delay-add-and-remove): Check and add directory before
	handling file.

2000-10-30  Yoshinari Nomura  <nom@quickhack.net>

	* mhc-sync.in (MhcScheduleDB#scan_all):
	 don't use regexp option `p' for Ruby 1.6x. (Again)
        (TNX, Mr. WATANABE Hirofumi <eban@os.rim.or.jp>)

	* mhc-sync.in (MhcScheduleDB#scan_all):
	don't use regexp option `p' for Ruby 1.6x.

	* emacs/mhc-summary.el (mhc-summary-make-contents):
	  Fix duplication of week separator
	  at the end of mont. (TNX, Mr. KOIE Hidetaka <hide@koie.org>)

2000-10-21  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-cvs.el (mhc-cvs/add, mhc-cvs/remove): Do not shrink
	filename when call mhc-cvs/modify().

2000-10-20  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-cvs.el (mhc-cvs/modify): Exec CVS use relative path.

2000-10-20  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-cvs.el (mhc-cvs-rsh): New variable.
	(mhc-cvs/backend): Refer `mhc-cvs-rsh' to set a process
	environment variable, `CVS_RSH'.
	(mhc-cvs/shrink-file-name): Use `file-relative-name'.

2000-10-19  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-cvs.el (mhc-cvs-repository-path, mhc-cvs-module-name):
	New variables. Means CVSROOT and module name.
	(mhc-cvs/shrink-file-name): New function. Convert absolute path to
	relative path from '~/Mail/schedule'.
	(mhc-cvs/add, mhc-cvs/remove): Exec CVS use relative path.
	TNX, Mr. Hajime BABA <baba@kusastro.kyoto-u.ac.jp>.
	(mhc-cvs/sync): Exec rescan if mhc-mode buffer.

2000-10-16  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-db.el (mhc-db-add-exception-rule):
	call mhc-draft-reedit-buffer before
        modifying a buffer.
	Tnx, Mr.Takaaki MORIYAMA <taka@airlab.cs.ritsumei.ac.jp>

2000-10-10  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-mode): Modify doc-string.
	Tnx, Mr. Yoichi NAKAYAMA <yoichi@eken.phys.nagoya-u.ac.jp>.

2000-10-06  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-mode-menu-spec): Change enable method of [mhc-file-sync].

2000-10-04  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-summary.el (mhc-summary-make-contents):
	add treats in case category-predicate nil.

2000-10-04  Toshihiko SHIMOKAWA  <toshi@tea.forus.or.jp>

	* emacs/00usage.jis: Untabified. Move some descriptions to
	../00usage.jis.  Delete some obsolete descrptions.

	* 00usage.jis: Merge descrption from emacs/00usage.jis. Change an
	order of descrption.

2000-10-04  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/00usage.jis: Change key bind in mhc-mode. Account for
	mhc-prefix-key.

	* emacs/mhc.el (mhc-prefix-key, mhc-prefix-map): New variable for
	'Emacs Minor Mode Conventions'.
	(mhc-mode-map): Use mhc-prefix-key and mhc-prefix-map.
	(mhc-mode): Change doc-string, used \\<mhc-mode-map> & \\[function].

2000-10-03  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/00usage.jis:
	change abount default category setting.

	* emacs/mhc.el (mhc-setup):
	setup mhc-default-caegory-predicate-sexp.

	* emacs/mhc.el (mhc-set-default-category):
	call mhc-rescan-month() after set a category.

	* emacs/mhc.el (mhc-expr-parse):
	New funcaion. recursive descent parser for category
	(mhc-got-month), (mhc-rescan-month),(mhc-scan-month),
	(mhc-insert-schedule): change interface to select category.

	* emacs/mhc-summary.el: (mhc-summary/insert-dayinfo),
	(mhc-summary-make-conents),
	(mhc-summary-make-todo-list): change interface to select categry.

	* emacs/mhc-ps.el:
	(mhc-ps/make-contents), (mhc-ps/process),
	(mhc-ps-preview), (mhc-ps-print), (mhc-ps-save),
	(mhc-ps-insert-buffer): change interface to select category.

2000-09-25  Yoshinari Nomura  <nom@quickhack.net>

	* today.in: assume duration is whole month in case --format=ps.

	* mhc-sync.in: more neat unconsistency check.

	* 00readme, 00readme.jis, 00usage.jis: Catch up current status.

	* emacs/00usage.jis: fix documents about X-SC-Category.

2000-09-21  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew/schedule-foldermsg): Support Mew 1.95b58
	or later.

2000-08-29  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-header.el (mhc-header-narrowing): Search for
	`mail-header-separator' or blank line.

2000-08-29  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew/lc-ascii): New constant.
	(mhc-mew/cs-m17n): Modify default setting.

2000-08-25  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (toplevel): Add comment (Raw JIS header decode in Mew).

	* emacs/mhc-mew.el (mhc-mew/cs-m17n): New constant.
	(mhc-mew-decode-header): Support mew-1.95alpha version.
	(mhc-mew-setup): Remove mhc-mew-decode-header.

	* emacs/mhc-parse.el (mhc-parse/internal-parser): Bind
	case-fold-search is t, when parse header. (X-Mail-Count: 00976)

2000-08-22  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-file.el (mhc-file-sync): Remove rescan feature.

	* emacs/mhc-sync.el (mhc-sync/start-process): Rescan after mhc-sync
	command.

2000-08-21  KOIE Hidetaka <hide@koie.org>,
	TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-file.el (mhc-file-line-status-strings): New variable
	to customze status string.

2000-08-21  Yoshinari Nomura  <nom@quickhack.net>

	* mhc-make.rb (search_library): pass all args in a correct way.

	* emacs/mhc-guess.el (toplevel  mhc-guess-date-regexp-list):
	modify regexp.

	* ruby-ext/extconf.rb.in: add have_library('socket') for solaris.

2000-08-10  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-wl.el (mhc-wl-summary-exit): Don't switch to original
	buffer if it is already appeared.

	* emacs/mhc.el (mhc-browse-x-url-function): New user option.
	(mhc-browse-x-url): New function.

	* emacs/mhc-xmas.el (mhc-xmas-icon-alist): Added "Link" entry.
	(mhc-icon-function-alist): Ditto.

	* emacs/mhc-draft.el (mhc-draft-finish): Removed meaningless comment.

	* emacs/mhc-bm.el (mhc-bm-icon-alist): Added "Link" entry.
	(mhc-icon-function-alist): Ditto.
	(mhc-put-icon): Put 'mouse-face overlay.

	* icons/Link.xbm, icons/Link.xpm: New file.

2000-08-08  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-eword-decode-string): Fix broken
	match-data.

2000-08-07  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-cmail.el (mhc-cmail-dummy-file): New variable.
	(Thanks to Mr. WATANABE Hirofumi)
	(mhc-cmail/schedule-foldermsg): Use mhc-cmail-dummy-file instead of
	'/dev/null'.
	(cmail-get-page-number-from-summary): Ditto.

	* emacs/mhc.el (mhc-mode-menu-spec): 'Sync' enable safer.

	* emacs/mhc-sync (toplevel): Add Date keyword.

	* emacs/mhc-calendar.el (mhc-calendar-input-exit): New function.
	(mhc-calendar-date-noduration): New variable.
	(mhc-draft-insert-calendar): mhc-calendar-date-noduration set t, if
	called in area of X-SC-Day:.
	(mhc-calendar/get-day-region): If mhc-calendar-date-noduration is t,
	insert days as break down.
	(mhc-calendar): Not autoload.
	(mhc-calendar-insert-summary-contents): Don't bind mhc-mailer-type.
	(mhc-calendar-eword-decode-string): Remove.

	* emacs/mhc-minibuf.el (mhc-input-day): Call mhc-calendar-input-exit()
	when exit.

	* emacs/mhc-draft.el (mhc-draft-kill): Ditto.
	(mhc-draft-finish): Ditto.

	* emacs/mhc-ps.el (mhc-ps/schedule-to-string): Always set
	mhc-ps-left-margin when mhc-ps/compose-subject call.

2000-08-07  Yoshinari NOMURA  <nom@quickhack.net>

	* emacs/mhc-cmail.el (mhc-cmail-setup):
	add mhc-mode to cmail-folders-mode-hook.

	* emacs/mhc-cmail.el (mhc-cmail-setup ):
	add-hook 'cmail-quit-hook 'mhc-exit.

	* emacs/mhc-cmail.el (cmail-get-page-number-from-summary):
	return "/dev/null" if no filename
	was found.

2000-08-06  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-guess.el (toplevel): set -> defvar.

2000-08-05  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-minibuf.el (mhc-minibuf/date-to-string):
	deal with duration.
	(mhc-minibuf/time-to-string): ditto.

	* emacs/mhc-guess.el (mhc-guess-time, mhc-guess-date):
	becomes to guess a duration.

	* emacs/mhc-date.el (mhc-time+,mhc-time-): New function.

	* gemcal.in (MhcCalendar::scan):
	tooltip not to be squeezed in one line.

	* ruby-ext/extconf.rb.in, configure.rb, mhc-make.rb:
	many changes making configure.rb better.

	* emacs/make.rb.in: New file.

2000-08-04  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-summary.el (mhc-icon-setup-hook): New hook.

	* emacs/mhc-xmas.el (mhc-icon-setup): Run `mhc-icon-setup-hook'

	* emacs/mhc-bm.el (mhc-icon-setup): Ditto.

	* emacs/mhc.el (mhc-setup): Revival `mhc-icon-setup'.

	* emacs/mhc-summary.el (mhc-summary-line-inserter-setup):
	Call `mhc-icon-setup' only when it is called interactively.

2000-08-04  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-setup): Fix, called mhc-icon-setup() twice.

	* emacs/mhc-face.el (make-face-xxx): Fill the gap between another
	version's XEmacs.

2000-08-04  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-schedule.el (mhc-schedule-subject): Don't decode
	encoded word.
	(mhc-schedule-location): Ditto.

	* emacs/mhc-parse.el (mhc-parse/subject): Decode encoded word.
	(mhc-parse/location): Ditto.
	(mhc-parse/category): Ditto.

2000-08-04  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-mode-menu-spec): Add mhc-file-toggle-offline() and

	* emacs/mhc-file.el (mhc-file-sync): Rescan this month after
	mhc-file/sync().

	* emacs/mhc-sync.el (mhc-sync/start-process): Wait process running
	like call-process.
	Window configuration save & restore.

2000-08-04  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-bm.el (mhc-bm-icon-alist): Fixed typo (xpm->xbm).
	(mhc-use-icon-p): Return nil if mhc-icon-path is nil.

	* emacs/mhc-mime.el (mhc-mime/draft-reedit): Delete header separator
	if already exists.
	Assume text/plain if there is no 'Content-Type' header.
	(mhc-mime-draft-translate): Go to `point-min' before searching
	header separator.

2000-08-03  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-draft-translate):
	Execute mew-header-encode-region() safer.

	* emacs/mhc.el (mhc-edit): Ensure reedit when imported buffer is schedule.

2000-08-03  Yoshinari NOMURA  <nom@quickhack.net>

	* ruby-ext/lib/mhc-gtk.rb.in (toplevel):
	if Win32 plathome, override MhcKconv::todisp using Uconv::euctou8
        (Thanks to Mr. WATANABE Hirofumi)

	* ruby-ext/lib/mhc-palm.rb (toplevel): rescue LoadError of mhc_pilib.
        (Thanks to Mr. WATANABE Hirofumi)

2000-08-02  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-db.el (mhc-db/eval-for-duration):
	fix estimation of week-of-month.

2000-08-02  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-cmail.el (toplevel): Set draft related backends for SEMI.

2000-08-02  Yukihiro Matsumoto  <matz@netlab.co.jp>

	* emacs/mhc-cmail.el (mhc-cmail-mime-get-raw-buffer): Implemented.
	(mhc-cmail-summary-display-article): Set page number.

2000-08-02  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-eword-decode-string): Fix problem,
	handling method of whitespace between encoded words.

2000-08-02  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-cmail.el (toplevel): Require 'mime-edit and 'eword-decode.
	(mhc-cmail-eword-decode-string): Implemented.
	(mhc-cmail-draft-setup-new): Ditto.
	(mhc-cmail-draft-reedit-buffer): Ditto.
	(mhc-cmail-draft-reedit-file): Ditto.
	(mhc-cmail-draft-translate): Ditto.

2000-08-02  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-setup): Run hook with symbol name.
	(mhc-exit): Ditto.

	* emacs/mhc-calendar.el (mhc-calendar-insert-summary-contents):
	Bind mhc-mailer-package to 'calendar as decode-string.
	(mhc-calendar-eword-decode-string): New function, decode encoded word
	using Mew or SEMI.

	* emacs/mhc-mew.el (mhc-mew/date-to-buffer): Change format parameter.
	(mhc-mew-get-import-buffer): When call mew-summary-display-asis, add
	option (get full message).
	(mhc-mew-draft-setup-new): Use mew-header-set().
	(mhc-mew-draft-reedit-buffer): Use mew-header-set(). Remove "X-Mew"
	header.
	(mhc-mew-draft-reedit-file): Use mew-header-set(). Remove "X-Mew"
	header. Use mew-decode-rfc822-header() as header decode.
	(mhc-mew-highlight-message): New function, highlight mhc-draft-mode.
	(mhc-mew-draft-translate): New function, make mime message.
	(mhc-mew/make-message):  Ditto.
	(mhc-mew-eword-decode-string): New function, decode encoded word.

2000-08-02  Yuuichi Teranishi  <teranisi@quickhack.net>

	* icons/CheckBox.xpm: New file.

	* icons/CheckBox.xbm: Ditto.

	* icons/CheckedBox.xpm: Ditto.

	* icons/CheckedBox.xbm: Ditto.

	* emacs/mhc.el (mhc-scan-month): Use `mhc-todo-position'.
	(mhc-todo-set-as-done): New command.
	(mhc-todo-set-as-not-done): Ditto.
	(mhc-edit): Insert "X-SC-Priority".

	* emacs/mhc-summary.el (mhc-summary-display-todo): New user option.
	(mhc-summary-line-format): Added '%p'.
	(mhc-summary-todo-line-format): Eliminated (Renamed to
	`mhc-todo-line-format').
	All other related portions are changed.
	(mhc-todo-line-format): New user option.
	(mhc-todo-position): Ditto.
	(mhc-todo-string-excess-day): Ditto.
	(mhc-todo-string-done): Ditto.
	(mhc-todo-string-not-done): Ditto.
	(mhc-todo-display-done): Ditto.
	(mhc-tmp-private): New variable.
	(mhc-tmp-lank): Eliminated.
	(mhc-summary-todo/line-inserter): Eliminated (Renamed to
	`mhc-todo/line-inserter').
	All other related portions are changed.
	(mhc-todo/line-inserter): New variable.
	(mhc-summary-line-format-alist): Added 'p'.
	Changed 'i' (Don't display "todo" icon if "done" is included).
	(mhc-summary-todo-line-format-alist): Eliminated (Renamed to
	`mhc-todo-line-format-alist').
	All other related portions are changed.
	(mhc-todo-line-format-alist): New variable.
	(mhc-summary/insert-dayinfo): Don't display TODO if
	`mhc-summary-display-todo' is nil.
	Set `mhc-tmp-priority'.
	(mhc-summary-make-todo-list): Don't display 'Done' TODO if
	`mhc-todo-display-done' is nil.
	(mhc-summary/line-insert): Eliminated (Renamed to
	`mhc-line-insert'.
	(mhc-line-insert): New function.
	(mhc-todo/line-deadline-string): Use `mhc-todo-string-excess-day'.
	(mhc-todo/line-deadline-face): Use default face only before deadline.
	(mhc-summary/line-parse-format): Eliminated (Renamed to
	All other related portions are changed.
	`mhc-line-parse-format').
	(mhc-line-parse-format): New function.
	(mhc-summary/line-inserter-setup-internal): Eliminated (Renamed to
	`mhc-line-inserter-setup').
	All other related portions are changed.
	(mhc-line-inserter-setup): New macro.

	* emacs/mhc-schedule.el (mhc-schedule-new): Added priority argument.
	(mhc-schedule-priority): New defsubst.
	(mhc-schedule-region): Changed slot.
	(mhc-schedule-todo-deadline): Changed logic.
	(mhc-schedule/set-priority): New macro.
	(mhc-schedule/set-region-start): Changed slot.
	(mhc-schedule/set-region-end): Ditto.

	* emacs/mhc-parse.el (mhc-parse/priority): New function.
	(mhc-parse/category): Set as todo if "todo" is included in category.

	* emacs/mhc-logic.el (mhc-logic/compile-schedule): If todo,
	always display.
	(mhc-logic-record-to-slot): If schedule is todo, treat as no slot.

	* emacs/mhc-header.el (mhc-header-table): Eliminated `x-sc-priority'
	and added `x-sc-todo'.

	* emacs/mhc-draft.el (mhc-draft-set-as-done): New command.
	(mhc-draft-set-as-not-done): Ditto.
	(mhc-draft-append-category): New function.
	(mhc-draft-in-category-p): Ditto.
	(mhc-draft-delete-category): Ditto.
	(mhc-draft-finish): Set `force-refile' argument as non-nil
	if not interactive.

	* emacs/mhc-db.el (toplevel): Require 'mhc-schedule.
	(mhc-db-scan-todo): Use `mhc-schedule-priority' instead of
	`mhc-schedule-todo-lank'.
	Changed sort function (nil is lower).
	(mhc-db-add-record-from-buffer): Use `force-refile'.

	* emacs/mhc-cvs.el (mhc-cvs/backend): Moved define position
	(to reduce byte-compile warnings).

	* emacs/mhc-bm.el (mhc-bm-icon-alist): Changed default and docstring.
	(mhc-icon-function-alist): New variable.
	(mhc-bm/bmstr-alist): Eliminated(Renamed to `mhc-bm/icon-bmstr-alist').
	(mhc-bm/icon-bmstr-alist): New variable.
	All other related portions are changed.
	(mhc-bm/icon-call-function): New variable.
	(mhc-bm-icon-keymap): New variable.
	(mhc-bm-icon-call-function): New function.
	(mhc-bm/setup-icons): Setup `mhc-bm/icon-call-function'.
	(mhc-put-icon): Set icon's local-map as `mhc-bm-icon-keymap'.

	* emacs/mhc-xmas.el (mhc-xmas-icon-alist): Set default.
	(mhc-icon-function-alist): New variable.
	(mhc-xmas-icon-call-function): New function.
	(mhc-xmas/glyph-alist): Eliminated (Renamed to
	`mhc-xmas/icon-glyph-alist').
	All other related portions are changed.
	(mhc-xmas/icon-glyph-alist): New variable.
	(mhc-xmas/icon-function-alist): Ditto.
	(mhc-xmas/setup-icons): Setup `mhc-xmas/icon-function-alist'.
	(mhc-put-icon): Put keymap extent property.

	* 00usage.jis (mhc2palm): Fixed typo.

2000-07-31  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-mime.el (mhc-mime-draft-reedit-file):
	Use `insert-file-contents-as-raw-text-CRLF' instead of
	`insert-file-contents-as-binary'.

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup): Recover value of
	`mhc-wl-exit-buffer' after `wl-summary-mode'.

	* emacs/mhc-db.el (mhc-db/eval-for-duration): Call `sexp' only if
	it is non-nil.
	(mhc-db-add-record-from-buffer): Display error if slot is nil.

	* emacs/mhc-logic.el (mhc-logic-eval-for-date): Ditto.

	* emacs/mhc-mime.el (mhc-mime-get-import-buffer):
	Bind buffer-read-only as nil while highlighting.

2000-07-28  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-logic.el (mhc-logic/day-of-month-regexp):
	In X-SC-Cond, day of month allows preceding zeros.

2000-07-28  Yoshiaki Kasahara  <kasahara@nc.kyushu-u.ac.jp>

	* emacs/mhc-date.el (mhc-date-digit-to-oo-string): Fix a typo.

	* emacs/mhc-logic.el (mhc-logic-day-as-string-list):
	remove a space after '!'.

2000-07-28  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-db.el (mhc-db-add-exception-rule):
	delete white space between `!' and a digit.
	(Patch is from Hideyuki SHIRAI  <shirai@quickhack.net>)

	* ruby-ext/lib/mhc-schedule.rb (parse_xsc_headers):
	Allow white spaces after `!' in a Day: field.

2000-07-28  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc.el (toplevel): Require 'mhc-draft.
	Removed draft related functions (Moved to mhc-draft.el).
	(mhc-edit): Changed for new draft.
	Delete candidate overlay if it exists in the draft buffer.
	(mhc-modify-file): Ditto.

	* emacs/mhc-summary.el (mhc-summary-get-function): New defsubst.
	(mhc-get-function): Ditto.
	(mhc-eword-decode-string): Ditto.

	* emacs/mhc-schedule.el (mhc-schedule-subject):
	Call `mhc-eword-decode-string'.
	(mhc-schedule-location): Ditto.

	* emacs/mhc-record.el (toplevel): Require 'mhc-draft.
	(mhc-record-write-buffer): Call `mhc-draft-translate'.

	* emacs/mhc-mew.el (mhc-mew-draft-setup-new): New function.
	(mhc-mew-draft-reedit-buffer): Ditto.
	(mhc-mew-draft-reedit-file): Ditto.
	(mhc-mew-draft-translate): New alias.
	(mhc-mew-eword-decode-string): Ditto.
	(toplevel): Record new backend functions.

	* emacs/mhc-gnus.el (toplevel): require 'mhc-mime.
	Record new backend functions.
	(mhc-gnus-mime-get-raw-buffer): New function.
	(mhc-gnus-highlight-message): Ditto.

	* emacs/mhc-wl.el (toplevel): Require 'mhc-mime.
	Record new backend functions.
	(mhc-wl-mime-get-raw-buffer): New function.
	(mhc-wl-highlight-message): Ditto.
	(mhc-wl-get-import-buffer): Removed.

	* emacs/MHC-MK (make-mhc/module-alist): Added mhc-draft and mhc-mime.

	* emacs/mhc-draft.el: New file.

	* emacs/mhc-mime.el: Ditto.

2000-07-27  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-summary.el (mhc-summary-line-format-alist): Changed
	conflict definition.
	(mhc-summary-line-inserter-setup): Setup icon too.

	* emacs/mhc-bm.el (mhc-bm-icon-alist): Added example of `Conflict'.
	(mhc-icon-exists-p): New function.

	* emacs/mhc-xmas.el: Likewise.

2000-07-26  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-ps.el (mhc-ps-save): Add default option with
	  read-file-name().
	(mhc-ps/make-contents): Support (last|next)-(holiday|schedule).
	(mhc-ps/replace-table): Ditto.
	(mhc-ps/string): Ditto. Fix indent for PostScript.
	(mhc-ps/uniq-list): New function.

2000-07-24  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-cmail.el (mhc-cmail-get-import-buffer):
	more confidential. Thanks to Mr. Yukihiro Matsumoto.

2000-07-24  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-cal-*):
	Functions and variables move to mhc-calendar.el and rename
	'mhc-calender-*'.
	(mhc-setup): Execute (mhc-calender-setup).
	(mhc-draft-kill): Rename mhc-calendar-separator to
	mhc-calendar-date-separator.
	(mhc-draft-finish): Ditto.

	* emacs/mhc-vars.el (mhc-calendar-*): Move to mhc-calendar.el.

	* emacs/mhc-minibuf.el (mhc-input-day):
	Rename mhc-calendar-separator to mhc-calendar-date-separator.

	* emacs/mhc-summary.el (mhc-use-week-separator): Move from mhc.el.
	(mhc-summary-separator): New variable.
	(mhc-summary/insert-separator): Use mhc-summary-separator.

	* emacs/mhc-calendar.el (mhc-calendar-toggle-insert-rectangle):
	Move from mhc.el and rename.
	(mhc-calendar-insert-rectangle-at): Ditto.
	(mhc-calendar/make-rectangle): Ditto.
	(mhc-calendar-setup): New function.
	(mhc-calendar-make-header): Ditto.
	(mhc-calendar-separator): New variable.
	(mhc-calendar-day-strings): Ditto.
	(mhc-calendar-header-function): Ditto.

	* emacs/mhc-ps.el (mhc-ps/process): If (eq method 'buffer), ask
	exec insert.

2000-07-21  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-db.el (mhc-db-add-record-from-buffer):
	Apply [mhc-develop:00172]'s patch. (thanks to Tsuchiya-san)

	* emacs/mhc-record.el (mhc-record-write-buffer): Ditto.

	* emacs/mhc-face.el (mhc-symbol-face-alist-internal):
	Add mhc-calendar-face-default and mhc-summary-face-default.
	(mhc-face-get-effect): undo make new-face method to nom-san's way.
	Typo fix, make-face/make-face-italic to mhc-face/make-face-italic.

	* emacs/mhc.el (mhc-cal-make-rectangle):
	Use 'mhc-calendar-face-default face instead of 'default.
	(top-level): Typo fix,
	(make-variable-buffer-local 'mhc-summary-buffer-current-.....).

	* emacs/mhc-summary.el (mhc-summary-line-insert):
	Use 'mhc-summary-face-default face instead of 'default.
	(mhc-summary-todo/line-deadline-face): Ditto.

2000-07-19  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-cmail.el:
	override some cmail's functions to make cmail-read-contents
	available.

2000-07-19  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-face.el (mhc-face/make-face-bold):
	New macro, fill the gap which Emacs and XEmacs.
	(mhc-face/mhc-face-italic): Ditto.
	(mhc-face/mhc-face-bold-italic): Ditto.
	(mhc-face-get-effect): Use above macros. Make face name as
	mhc-effect-*-*.

	* emacs/mhc-ps.el (mhc-ps-preview-command-arguments): Change
	  default value.
	(mhc-ps-paper-fill-print): New variable.
	(mhc-ps/replace-table): Use mhc-ps-paper-fill-print.
	(mhc-ps/process): Use expand-file-name()
	, when finename cons mhc-ps/process-file-alist.

2000-07-18  Yoshinari Nomura  <nom@quickhack.net>

	* mhc2palm.in: separate -v and -n.

	* ruby-ext/lib/mhc-schedule.rb (MhcScheduleItem#to_palm):
	support 1st 3rd Tue.

	* mhc2palm.in: add verbose mode -v.

	* emacs/mhc.el:
	Use (mhc-face-get-today-face) instead of (mhc-face-get-gray-face).
	Use (mhc-face-get-busy-face)  instead of (mhc-face-get-underline-face).

	* emacs/mhc-summary.el:
	Use (mhc-face-get-busy-face) instead of (mhc-face-get-gray-face).

	* emacs/mhc-face.el:
	(mhc-face-get-gray-face), (mhc-face-get-underline-face): Deleted.
	(mhc-face-get-busy-face), (mhc-face-get-today-face): New functions.
	mhc-face-effect-alist: New variable.

2000-07-18  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-mode-menu-spec): Add PostScript menu.
	(mhc-setup): Autoload mhc-ps-save and mhc-ps-insert-buffer.

	* emacs/mhc-ps.el (mhc-ps-string-column): New variable,
	but not used ^^;
	(mhc-ps/string): Fix 'Sixth week' problem.
	(mhc-ps/replace-table): Ditto.
	(mhc-ps/weeks): New function, return number of weeks.
	(mhc-ps/compose-subject): Change method for truncate and fill.
	(mhc-ps/make-contents): Add 'file' option.
	(mhc-ps/process): New function, modified mhc-ps/start-process.
	(mhc-ps/process-sentinel): New function for delete PS file.
	(mhc-ps-preview): Support Win32 enviroment.
	(mhc-ps-print): Ditto.
	(mhc-ps-save): New function.
	(mhc-ps-insert-buffer): Ditto.

2000-07-18  Yoshinari Nomura  <nom@quickhack.net>

	* configure.rb: more simple error message.

	* emacs/mhc-cmail.el: New file.

	* emacs/mhc.el (mhc-current-date-month):
	  use local-variable mhc-summary-buffer-current-date-month
	  instead of buffer name.

2000-07-18  Toshihiko SHIMOKAWA  <toshi@tea.forus.or.jp>

	* next_year.xpm: correct color information
	* prev_year.xpm: Ditto.

2000-07-17  Yuuichi Teranishi  <teranisi@quickhack.net>

	* icons/Private.xpm, icons/Private.xbm: Changed image.

	* icons/Date.xpm, icons/Date.xbm: New files (Renamed from Private.*).

2000-07-14  Yoshinari Nomura  <nom@quickhack.net>

	* make.rb.in, mhc-make.rb, configure.rb:
	Change xpm path and getoptlong parameters.

	* ruby-ext/extconf.rb.in:
	add nasty hack to LIBS = -lpisock.

	* mscan, today.pl: Removed.

	* ruby-ext/lib/mhc-kconv.rb.in,
		  adb2mhc.in, make.rb.in,
		  mhc-sync.in, mhc2palm.in,
		  palm2mhc.in,
		  ruby-ext/lib/mhc-gtk.rb.in,
		  today.in:
	add helps emacs to find a correct mode.

	* configure.rb, mhc-make.rb: more strict checks.

2000-07-13  Yoshinari Nomura  <nom@quickhack.net>

	* configure-nom.rb, configure.rb:
	almost contents of configure.rb was moved into mhc-make.rb.

	* mhc-make.rb: add Revised: hader.

	* ruby-ext/lib/mhc-kconv.rb.in, adb2mhc.in, gemcal.in, make.rb.in,
	  mhc-sync.in, mhc2palm.in, palm2mhc.in, today.in:
	change cinfig variable names fitting to mhc-make.rb.

	* ruby-ext/make.rb.in, ruby-ext/lib/make.RB.in: combined into
		  mhc-make.rb.
	* ruby-ext/extconf.rb: Removed. replaced by  .in file.
	* ruby-ext/lib/mhc-gtk.rb: Ditto.
	* ruby-ext/extconf.rb.in:  New file.
	* ruby-ext/lib/mhc-gtk.rb.in, mhc-make.rb: New files.

2000-07-13  MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* ruby-ext/lib/make.RB.in: Install scripts only when DISABLE_EXT
	is true.

	* make.rb.in: Chane file mode of scripts to 755.

	* configure.rb: Close files.
	Change file mode of make.rb to 755.
	Expand file paths.

2000-07-13  Yoshinari Nomura  <nom@quickhack.net>

	* make.rb.in, configure.rb,
	  ruby-ext/lib/make.RB.in, ruby-ext/make.rb.in:
	change newline CRLF -> LF.

	* 00readme.jis: fix typo.

	* ruby-ext/extconf.rb: add LD_RUN_PATH.
	check exsitance of pilot-link and make a safe Makefile.

	* today: Removed.

2000-07-13  MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* ruby-ext/lib/mhc-kconv.rb.in: Renamed from today and modified
	for make.

	* today.in: Ditto.

	* palm2mhc.in: Ditto.

	* mhc2palm.in: Ditto.

	* mhc-sync.in: Ditto.

	* gemcal.in: Ditto.

	* adb2mhc.in: Ditto.

	* ruby-ext/lib/make.RB.in: New file for make.

	* ruby-ext/make.rb.in: Ditto.

	* make.rb.in: Ditto.

	* configure.rb: New file for configuration.

2000-07-11  MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* 00readme.w32.jis: Update info of the ruby binary release.
	Remove pilot-link.0.9.3.cygwin1.1.diff from the file.

	* ruby-ext/lib/mhc-kconv.rb: Assume default kanji code sjis when
	the platform matches cygwin, mingw32, os2_emx or sharp-human.

2000-07-10  Toshihiko SHIMOKAWA  <toshi@tea.forus.or.jp>

	* today : Change help message of --format.
	Remove code conversion at final display.  Now, every formatter
	module is responsible to code conversion.

	* ruby-ext/lib/mhc-kconv.rb : Change to module.
	Add tohtml, tops for formatter module of 'today'.

	* gemcal : Change some global variables to local variables.

2000-07-08  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-logic.el (mhc-logic/compile-schedule): Fix
	inconsistency after compile of schedule predicate.

2000-07-07  Yoshinari Nomura  <nom@quickhack.net>

	* today: add location to each summary line.

	* emacs/mhc-logic.el (mhc-logic-occur-multiple-p):
	roughly check not to delete multiple article.

2000-07-07  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-vars.el (mhc-default-coding-system):
	Changed default value from 'iso-2022jp' to 'iso-2022-7bit-ss2'.

2000-07-07  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-summary.el (mhc-summary-line-format-alist):
	Display begin and end time in `hide-private' mode.
	(mhc-summary/insert-dayinfo): Display day info even when
	all schedules are not displayed.
	(mhc-summary-search-date): Fixed problem when there's no property in
	beginning of buffer.

2000-07-06  MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* 00readme.w32.jis: New file for Windows users.

2000-07-05  Hideyuki SHIRAI  <shirai@quickhack.net>

	* ChangeLog (toplevel): Change my email-address to "quickhack".
	* 00changes.jp (toplevel): Ditto.
	* emacs/mhc-calendar.el (toplevel): Ditto.
	* emacs/mhc-cvs.el (toplevel): Ditto.
	* emacs/mhc-mew.el (toplevel): Ditto.
	* emacs/mhc-sync.el (toplevel): Ditto.

2000-07-04  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-guess.el (mhc-guess-date-regexp-list): Added workaround
	for zenkaku-space.

	* emacs/mhc-wl.el (mhc-wl-exit-buffer): New buffer local variable.
	(mhc-wl-generate-summary-buffer): Set `mhc-wl-exit-buffer'.
	(mhc-wl-summary-exit): New function.
	(toplevel): Eliminated `summary-search-date' setting.

2000-07-04  MIYOSHI Masanori  <miyoshi@hrl.hitachi.co.jp>

	* emacs/00usage.jis: Fix a typo.

	* 00usage.jis: Ditto.

2000-07-03  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc.el (mhc-modify-file): Fixed problem when file is already
	opened.

	* emacs/mhc-summary.el (mhc-summary/insert-dayinfo):
	Set `mhc-tmp-private'if `hide-private' mode.
	(mhc-summary-make-todo-list): Ditto.
	(mhc-summary-line-format-alist): Follow-up.
	(mhc-summary-todo-line-format-alist): Ditto.
	(mhc-summary/line-subject-string): Ditto.
	(mhc-summary/line-location-string):
	Don't display location when `hide-private' mode.

	* emacs/mhc-xmas.el (mhc-put-icon): Fix problem
	when glyph extent already exists.

	* icons/Party.xbm, icons/Party.xpm: New files.

	* emacs/mhc-bm.el (mhc-bm-icon-alist): New variable.
	(Renamed from mhc-bm-category-icon-alist.)
	All other related portions are changed.
	(toplevel): Put CVS date keyword.

	* emacs/mhc-xmas.el (mhc-xmas-icon-alist): New variable.
	(Renamed from mhc-xmas-category-icon-alist.)
	All other related portions are changed.
	(toplevel): Put CVS date keyword.

	* emacs/mhc-summary.el (mhc-summary-line-format-alist):	Quote
	PROP-TYPE.
	(mhc-summary-todo-line-format-alist): Ditto.
	(mhc-summary-line-format-alist): Insert conflict icon.
	(mhc-summary/line-insert): Insert only if argument is string.

	* icons/Conflict.xbm, icons/Conflict.xpm: New files.

2000-06-30  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-current-date): Get dayinfo property
	  safe. (thanks to Teranishi-san)

	* emacs/mhc-calendar.el (mhc-calendar/in-date-p): Renamed
	  'mhc-calendar/in-day-p'.

2000-06-28  MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* ruby-ext/lib/mhc-kconv.rb: New file.

	* ruby-ext/lib/mhc-date.rb: Convert coding system with MhcKconv.

	* ruby-ext/lib/mhc-gtk.rb: Ditto.

	* today: Ditto.

	* palm2mhc: Ditto.

	* mhc2palm: Ditto.

	* mhc-sync: Ditto.

	* gemcal: Ditto.

2000-06-28  Yuuichi Teranishi  <teranisi@gohome.org>

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup):
	Set `wl-summary-buffer-next-folder-func' and
	`wl-summary-buffer-prev-folder-func'.

2000-06-28  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-summary.el (mhc-summary-insert-contents): If mailer eq
	  'direct,
	disable icon and insert \n.
	(mhc-summary-line-insert): Set background color, if today.

	* emacs/mhc-calendar.el (mhc-calendar-insert-summary-contents):
	  Follow up new method.

	* emacs/mhc-ps.el (mhc-ps/substring): Use mhc-string-to-char-list
	instead of string-to-list.

2000-06-28  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc.el (mhc-scan-month): `set-buffer-modified-p' as nil.

	* emacs/mhc-compat.el (mhc-string-to-char-list): New function.

	* emacs/mhc-summary.el (mhc-summary-line-format): Fixed docstring.
	(mhc-summary-todo-line-format): Ditto.
	(mhc-summary-line-format-alist): Ditto.
	(mhc-summary-todo-line-format-alist): Ditto.
	(mhc-summary/line-inserter-setup-internal): New function.
	(mhc-summary-todo-line-inserter-setup): Eliminated.
	(mhc-summary/line-parse-format): Use `mhc-string-to-char-list'.

	* emacs/mhc.el (mhc-setup):
	Delete `mhc-summary-todo-line-inserter-setup'.

2000-06-27  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc.el (mhc-current-date): New implementation.

	* emacs/mhc-summary.el (mhc-summary/line-parse-format):
	Treat characters after '%' as spec, insert as-is otherwise.
	(mhc-summary-line-format): Likewise.
	(mhc-summary-todo-line-format): Likewise.
	(mhc-summary-icon-position): Eliminated.

	* emacs/mhc-mew.el (mhc-mew-insert-summary-contents): Fixed.

	* emacs/mhc-summary.el (mhc-summary-line-format): New user option.
	(mhc-summary-todo-line-format): Ditto.
	(mhc-summary-insert-contents): Rewrite.
	(mhc-summary/insert-dayinfo): Ditto.
	(mhc-summary-search-date): Ditto.
	(mhc-summary-make-todo-list): Ditto.
	(mhc-summary/insert-strings): Eliminated.
	(mhc-summary/schedule-to-contents): Ditto.
	(mhc-summary/insert-dayinfo-internal): Ditto.
	(mhc-tmp-day-face): New variable.
	(mhc-tmp-dayinfo): Ditto.
	(mhc-tmp-schedule): Ditto.
	(mhc-tmp-begin): Ditto.
	(mhc-tmp-end): Ditto.
	(mhc-tmp-conflict): Ditto.
	(mhc-tmp-first): Ditto.
	(mhc-tmp-private): Ditto.
	(mhc-tmp-day): Ditto.
	(mhc-tmp-lank): Ditto.
	(mhc-tmp-deadline): Ditto.
	(mhc-summary-line-format-alist): Ditto.
	(mhc-summary-todo-line-format-alist): Ditto.
	(mhc-summary/line-inserter): Ditto.
	(mhc-summary-todo/line-inserter): Ditto.
	(mhc-summary/line-insert): New macro.
	(mhc-summary/line-year-string): New function.
	(mhc-summary/line-month-string): Ditto.
	(mhc-summary/line-day-string): Ditto.
	(mhc-summary/line-day-of-week-string): Ditto.
	(mhc-summary/line-subject-string): Ditto.
	(mhc-summary/line-location-string): Ditto.
	(mhc-summary-todo/line-deadline-string): Ditto.
	(mhc-summary-todo/line-deadline-face): Ditto.
	(mhc-summary/line-parse-format): Ditto.
	(mhc-summary-line-inserter-setup): Ditto.
	(mhc-summary-line-insert): Ditto.
	(mhc-summary-todo-line-inserter-setup): Ditto.
	(mhc-summary-todo-line-insert): Ditto.
	(mhc-summary/line-parse-format): Use `mhc-use-icon-p'.
	Use `string-to-list' instead of `string-to-char-list'.
	(toplevel): Require 'mhc-day, 'mhc-schedule, and 'bytecomp.

	* emacs/mhc-wl.el (mhc-wl-insert-summary-contents):
	New implementation.
	(mhc-wl-summary-search-date): Eliminated.

	* emacs/mhc-mew.el (mhc-mew-insert-summary-contents):
	Likewise.

	* emacs/mhc-gnus.el (mhc-gnus-insert-summary-contents):
	Likewise.

	* emacs/mhc-calendar.el (mhc-calendar-insert-summary-contents):
	Likewise.

	* emacs/mhc-xmas.el (mhc-put-icon): Changed argument.
	(mhc-get-icon): Eliminated.

	* emacs/mhc-bm.el: Likewise.

	* emacs/mhc-face.el (mhc-face-category-to-face):
	Consider `category' is nil.

	* emacs/mhc.el (mhc-setup): Initialize summary inserter.

2000-06-26  Yoshinari Nomura  <nom@quickhack.net>

	* 00usage.jis: New file.

2000-06-26  Toshihiko SHIMOKAWA  <toshi@tea.forus.or.jp>

	* mhc-gtk.rb: fix FONTSET2 for non cygwin environments.

2000-06-26  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-schedule.rb (MhcScheduleItem#to_palm):
	fix initializing of a variable.

	* palm2mhc: don't ask clear of dirty flag in no-interactive mode.

	* gemcal (MhcScheduleEdit#conv_description):
	New function to divide non X-SC- headers from body. Fix
		duplication of non X-SC- headers.

	* ruby-ext/lib/mhc-schedule.rb
	 (MhcScheduleItem#set_non_xsc_header): New function to divide non X-SC-
	    headers from body.
	(MhcScheduleItem#dump_without_xsc_header): Ditto.
	(MhcScheduleItem#to_palm): datebk3 compliant (I hope).

	* ruby-ext/lib/mhc-palm.rb (PilotApptRecord#to_xsc):
	datebk3 compliant (I hope).

	* ruby-ext/lib/mhc-gtk.rb (GtkTimeRangeEdit):
	fix for setting end time.

	* 00todo.jis: updated.

	* ruby-ext/extconf.rb: add header check.

2000-06-26  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-compat.el (mhc-string-width): Remove function. This
		  defined by APEL.
	(mhc-char-width): Ditto.
	(mhc-string-to-list): Ditto.

	* emacs/mhc-ps.el (mhc-ps/compose-subject): If
		  mhc-ps-truncate-lines is nil, use fill-region again.


2000-06-24  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-ps.el (mhc-ps/encode-string): New function.
	(mhc-ps/schedule-to-string): Add code to handle subjects, which
	contains special characters of PostScript.

2000-06-23  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-compat.el (mhc-string-width): New function.
	(mhc-char-width): Ditto.
	(mhc-string-to-list): Ditto.

	* emacs/mhc-ps.el (mhc-ps-truncate-lines): New variable.
	(mhc-ps/substring): New function.
	(mhc-ps/compose-subject): Subject handle as string. Effect
		mhc-ps-truncate-lines.
	(mhc-ps-preview): Effect default month.
	(mhc-ps-print): Ditto.

2000-06-23  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-guess.el (mhc-guess/gather-time-list2):
	Fix for Japanese ``Han'' (= 30 minutes).

	* experimental/gp2mhc, experimental/my-meeting2000:
	Add -Ke option to #!/usr/local/bin/ruby line.

	* today, adb2mhc, gemcal, mhc-sync, mhc2palm, palm2mhc:
	Add -Ke option to #!/usr/local/bin/ruby line.

	* 00todo.jis: updated.

	* 00readme.jis: change file kanji code euc to jis.

2000-06-22  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (mhc-calendar): Requested month displays
		  center position.
	(mhc-calendar-goto-today): New function.

	* emacs/mhc.el (mhc-input-month): Treat default date option.

	* emacs/mhc-date.el (mhc-date-yymm=): Fix mhc-date-mm's
		  option. (d1, d2)
	(mhc-date-yymm<): Ditto.

	* emacs/mhc-record.el (mhc-record-write-buffer): Add 'nomsg option
		  when write-region.
	(mhc-record/append-log): Ditto.

	* emacs/MHC-MK (comment): Change exemplum for Meadow.

2000-06-22  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* 00readme, 00readme.jis: Follow changes in mailing list address
	and URL.

2000-06-21  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el (mhc-cal-make-rectangle): Follow changes in mhc-day.el.

	* emacs/mhc-summary.el (mhc-summary/today): New variable to speed up.
	(mhc-summary/insert-dayinfo-internal): Refer `mhc-summary/today'.
	(mhc-summary-make-contents): Set `mhc-summary/today'.

	* emacs/mhc-db.el (mhc-db/eval-for-duration): Follow changes in
		  mhc-day.el.
	Dependency above timezone.el removed.

	* emacs/mhc-day.el: Reconstruction of data structure.
	Dependency above timezone.el removed.
	(mhc-day-today-p): Removed.
	(mhc-day-encode-time): Removed.

2000-06-21  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-schedule.rb (MhcScheduleItem::initializse):
	  add record-id correctly.
	* adb2mhc (to_mhc): ignore cron job '|', support daily schedule.

2000-06-21  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (all :-): Follow reconstruction of mhc-date.el.
	* emacs/mhc.el (mhc-edit): Change interface to mhc-calender.el
	(mhc-delete-file): Ditto.
	(mhc-draft-finish): Ditto.
	* emacs/mhc-date.el (mhc-date-new-from-string3): Fix typo.
	* emacs/ddate.el: Remove file.

2000-06-20  Yoshinari Nomura  <nom@quickhack.net>

	* ruby-ext/lib/mhc-gtk.rb:
	Gtk::CAN_ -> Gtk::Widget::CAN_* for ruby-gtk 0.23.
	* gemcal, xpm/next_year.xpm, xpm/prev_year.xpm:
	Add buttons to goto next/prev year.

2000-06-20  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-date.el (mhc-date-yy+): Fix dd's overrun.
	* today: Change Author's mail address.
	* emacs/mhc.el:	Change interfaces to guess functions.
	       Change indent fitting to 80 columns.
	* emacs/mhc-minibuf.el: Change interfaces to guess functions.
	* emacs/mhc-guess.el: drastically changed: data structure,
		  function names, algorithms.
	* emacs/mhc-date.el:
	(mhc-date/string-to-timezone-offset)
	(mhc-date-new-from-string3)
	(mhc-date-yy+)
	(mhc-date-yy-)
	(mhc-date-yy++)
	(mhc-date-yy--),
	(mhc-date-p): New functions to support new mhc-guess.

2000-06-20  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-date.el (mhc-date-mm+): If check is nil, return
		  last-day instead of '1'.
	(mhc-date-digit-to-ww-japanese-string): New function, return
		japanese day of week.

2000-06-19  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-mew.el (mhc-mew-summary-display-article): Implemented.

2000-06-19  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-wl.el (mhc-wl/date-to-folder): Fixed.
	(mhc-wl-summary-display-article): Implemented.
	(mhc-wl/date-to-folder): Fixed.
	(mhc-wl-summary-display-article): Implemented.
	(mhc-wl-summary-mode-setup): Added workaround for 'N' and 'P'.
	(mhc-wl-insert-summary-contents): Ditto.
	(mhc-wl/schedule-foldermsg): Eliminated.

2000-06-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-ps.el (mhc-ps-left-margin): New variable.
	(mhc-ps-string-width): New variable.
	(mhc-ps/compose-subject): New function.
	(mhc-ps/schedule-to-string): Add handling long subject.
	(mhc-ps/make-contents): Fix order of schedules.

2000-06-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-summary.el (mhc-summary-search-date): Renamed
	`mhc-summary-search-day'.
	* emacs/mhc.el (mhc-goto-today): Replace `mhc-summary-search-day'
	with `mhc-summary-search-date'.
	* emacs/mhc-wl.el (mhc-wl-search-date): Renamed `mhc-wl-search-day'.
	* emacs/mhc-mew.el (mhc-mew-search-date): Renamed `mhc-mew-search-day'.
	* emacs/mhc-gnus.el (mhc-gnus-search-date): Renamed
		  `mhc-gnus-search-day'.

2000-06-19  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-goto-today): Use mhc-summary-search-day().
	* emacs/mhc-summary.el (mhc-summary-search-day): New function, for
		  search YY MM DD in summary-buffer.
	* emacs/mhc-wl.el (mhc-wl-summary-search-day): Ditto.
	* emacs/mhc-gnus.el (mhc-gnus-summary-search-day): Ditto.
	* emacs/mhc-mew.el (mhc-mew-summary-search-day): Ditto.
	(mhc-mew/header-string-review): New constant, header-string when
		schedule exist.
	(mhc-mew-insert-summary-contents): If shedule exist, put review mark.

2000-06-19  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc.el (mhc-goto-today): Fix typo.

2000-06-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el (mhc-setup): Add autoload definition of
	`mhc-ps-preview' and `mhc-ps-print'.

	* emacs/mhc-ps.el: Add comments.
	(mhc-ps/start-process): New function.
	(mhc-ps-preview): Clean up and add autoload magic.
	(mhc-ps-print): Ditto.

2000-06-19  Yoshinari Nomura  <nom@quickhack.net>
            OHARA Shigeki <oharakun@allnet.ne.jp>

	* today: new feature --format=ps was added.

2000-06-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/MHC-MK: Add mhc-ps.el.

	* emacs/mhc-ps.el: Fix coding system trouble, clean up codes, and
	add new customize variables.

	* emacs/mhc-date.el: Fix typo.

2000-06-18  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-ps.el: New file.

2000-06-18  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc.el (mhc-input-month):
	fix to set default month correctly.

	* emacs/mhc-record.el (mhc-record/append-log):
	Add seconds into log string (%H:%M -> %T).

	* emacs/mhc-misc.el (mhc-misc-substring-to-int): New function.

	* emacs/mhc-minibuf.el (mhc-minibuf-date-to-s): fix typo.

	* emacs/mhc-logic.el (mhc-logic/month-alist):
	correct number for "aug" 9 -> 8.

	* emacs/mhc-db.el (mhc-db/eval-for-month):
	calculate last day of a month without timezone.el.

	* emacs/mhc-day.el (mhc-day-let):
	fix for date before 1970.

	* emacs/mhc-date.el (mhc-date/to-list2):
	fix for `ww' before 1970.

2000-06-18  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el: Follow reconstruction of mhc-date.el.
	* emacs/mhc-db.el: Ditto.
	* emacs/mhc-gnus.el: Ditto.
	* emacs/mhc-guess.el: Ditto.
	* emacs/mhc-logic.el: Ditto.
	* emacs/mhc-mew.el: Ditto.
	* emacs/mhc-minibuf.el: Ditto.
	* emacs/mhc-record.el: Ditto.
	* emacs/mhc-wl.el: Ditto.
	* emacs/mhc-date.el: Some bug fixes.
	* emacs/mhc-calendar.el: Quick hack to follow reconstruction of
		  mhc-date.el.
	* emacs/ddate.el: Ditto.
	* emacs/Makefile: Add suffix rule.

2000-06-18  Yoshinari Nomura  <nom@quickhack.net>

	* emacs/mhc-date.el: Rewrite all codes.

2000-06-17  Yoshinari Nomura  <nom@quickhack.net>,
            MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* palm2mhc: call ad_sch() in non interactive mode.

2000-06-17  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/nnmhc.el (nnmhc-request-article): Hack for
	`gnus-bbdb/update-record'.

	* emacs/mhc.el (mhc-edit): Disable to succeed to the record id of
	the original schedule.

2000-06-17  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el: Removed dependency declaration above mhc-sync.el.
	(mhc-modify-file): Alter the file opening codes, removed
		`find-file-other-window'.
	(mhc-draft-buffer-file-name): New internal variable to keep file name.
	(mhc-draft-finish): Refer `mhc-draft-buffer-file-name' to decide
	original schedule file.
	(mhc-draft-unuse-hdr-list): Add some headers.

	* emacs/mhc-sync.el: Reconstruct as the backend of mhc-file.el and
	adopt coding conventions.

	* emacs/mhc-file.el: Removed definitions as the simplest backend.
	(mhc-file-method): Changed default value from `mhc-file' to `mhc-sync'.
	(mhc-file/backup-and-remove): Removed.

	* emacs/mhc-vars.el: Moved mhc-sync-* variables to mhc-sync.el.

	* emacs/nnmhc.el (nnmhc-get-article): Change the data format of
	`nnmhc-article-list'.
	(nnmhc-get-subject): New macro.
	(nnmhc-request-article): Fix `let'.  Add the string of
	X-SC-Subject header as a subject, in the case of lack of Subject
	header.

	* emacs/mhc-gnus.el (mhc-gnus-generate-summary-buffer): Reset
	`nnmhc-article-list'.
	(mhc-gnus-insert-summary-contents): Store schedule subjects to
	`nnmhc-article-list'.
	(mhc-gnus-summary-mode-setup): Disable auto extension of newsgroup
	in the MHC summary buffer.

	* emacs/mhc-header.el (mhc-header-get-value): Move point to the
	top of this narrowed buffer, in order to search specified header.

2000-06-16  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc.el (mhc-goto-month): Refer
		  `mhc-default-hide-private-schedules'
	to decide which action is suitable as default, display private
	schedules or not.
	(mhc-goto-this-month): Ditto.
	(mhc-goto-next-month): Ditto.
	(mhc-rescan-month): Ditto.
	(mhc-delete-file): Ditto.
	(mhc-draft-finish): Ditto.
	(mhc-cal-toggle-insert-rectangle): Ditto.

	* emacs/mhc-vars.el (mhc-default-hide-private-schedules): New
	variables.

	* emacs/MHC-MK: Add comments and copyright notices.

2000-06-15  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/MHC-MK (make-mhc/lisp-directory): Meadow support.
	(make-mhc-install-package): Fix icon-dir, has overlapped '/'.
	(make-mhc/install-file): copy-file with keep-time.

2000-06-14  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-parse.el (mhc-parse/internal-parser): Always skip
	non-header lines.

2000-06-14  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-edit): Enwrap regexp-opt in parenthesis .

	* emacs/mhc-calendar.el (mhc-calendar-insert-summary-contents): Display icon, again.
	(mhc-calendar-edit): Push window configuration.
	(mhc-calendar-view-file, mhc-calendar-hnf-view): Push window configuration and set view-exit-action for window configuration.
	(mhc-calendar-view-exit-action): New function for view exit action.

2000-06-14  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-calendar.el (mhc-calendar): Added autoload magic.

	* emacs/MHC-MK (make-mhc/configure): Don't set make-mhc/lisp-directory.
	(make-mhc/compile-package): Set make-mhc/lisp-directory.
	(make-mhc/install-file): Print install paths when not debugged.

2000-06-14  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-wl.el (mhc-wl-setup): Added autoload magic.

	* emacs/mhc-gnus.el (mhc-gnus-setup): Ditto.

	* emacs/mhc-mew.el (mhc-mew-setup): Ditto.

	* emacs/mhc-summary.el (mhc-icon-path): Changed default
	for XEmacs package.

	* emacs/Makefile (clean): Delete "auto-autolads.el"
	and "custom-load.el" too.

	* emacs/MHC-MK (make-mhc/icon-source-directory): New variable.
	(make-mhc-install-package): Install "auto-autoloads" and "custom-load".
	Install icons.

2000-06-13  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/Makefile: Make a change in using MHC-MK.

	* emacs/MHC-MK: New file.

2000-06-13  MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* emacs/mhc-gnus.el (mhc-gnus-generate-summary-buffer): Set
	QUIT-CONFIG to ensure MHC to be called from a group buffer even if
	there's no schedule.

2000-06-12  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (toplevel): Require mhc-calendar, mhc-sync.
	(mhc-delete-file, mhc-modify-file): New functions to call from mhc
		and mhc-calendar.
	(mhc-edit): Support mhc-calendar-mode.
	(mhc-setup-p): New variable.
	(mhc-setup): Add in mhc-calendar's setup funciton.

	* emacs/mhc-vars.el (mhc-sync-*, mhc-calendar-*): New variables.

	* emacs/mhc-parse.el (mhc-parse-file): mhc-default-coding-system use.

	* emacs/mhc-misc.el (mhc-misc-read-passwd): New function.

	* emacs/mhc-mew.el: (require 'mew) instead of mew-vars.

	* emacs/mhc-logic.el: (require 'bytecomp) in top level, for
		  byte-compile-wanings.

	* emacs/mhc-face.el (mhc-calendar-hnf-face-*): New variable form
		  mhc-calendar.

	* emacs/mhc-calendar.el: Sync up to main trunk.

	* emacs/mhc-sync.el: New file for ruby sync script.

	* emacs/Makefile: Include mhc-bm.el, mhc-xmas.el, mhc-calendar.el
		  and mhc-sync.el.

2000-06-12  Yoshinari Nomura  <nom@quickhack.net>

	* mhc-sync: mhc-sync deal with 'A' status.

2000-06-07  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-parse.el (mhc-parse/old-style-date): New function to
	parse X-SC-Date.

	* emacs/mhc-logic.el (mhc-logic-parse-old-style-date): New
	function to parse X-SC-Date.
	(mhc-logic/old-style-date-regexp): New constant.

	* emacs/mhc-header.el (mhc-header-table): Add X-SC-Date.

2000-06-07  Taiji Can <Taiji.Can@atesoft.advantest.co.jp>

	* emacs/Makefile (WL): Removed dependecy above MEW.

2000-06-07  Yuuichi Teranishi  <teranisi@gohome.org>

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup):
	Deleted workaround for removal of MHC buffer.

2000-06-06  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-calendar.el: Follow changes in main trunk.

	* emacs/mhc-header.el (mhc-header-table): Add X-SC-Schedule.
	(mhc-header-goto-end): New function.

	* emacs/mhc-parse.el: Add fearture to parse X-SC-Schedule.

2000-06-05  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-gnus.el (mhc-gnus-encode-string): New function.
	(mhc-gnus-insert-summary-contents): Replace eword-encode-string
	with mhc-gnus-encode-string.

2000-06-05  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (mhc-calendar-hnf-summary-insert): 'SUB',
		  'LSUB' suport.
	(mhc-calendar-hnf-search-title): New function.
	(mhc-calendar-hnf-edit, mhc-calendar-hnf-view): Goto TITLE position.

2000-06-03  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-compat.el (mhc-defgroup): Removed.
	(mhc-defcustom): Ditto.

	* emacs/mhc.el, emacs/mhc-calendar.el, emacs/mhc-cvs.el,
	emacs/mhc-file.el, emacs/mhc-record.el, emacs/mhc-summary.el,
	emacs/mhc-vars.el: Replace mhc-defcustom with defcustom.

2000-06-02  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-compat.el (mhc-regexp-opt):
	Don't define as alias for `regexp-opt' in XEmacs.

	* emacs/mhc-bm.el (mhc-bm-category-icon-alist):
	Define as mhc-defcustom.
	(mhc-bm/category-bmstr-alist):
	Renamed from `mhc-bm-category-bmstr-alist'.
	(mhc-bm/create-rectangle): Renamed from `mhc-bm-create-rectangle'.
	(mhc-bm/setup-icons): Renamed from `mhc-bm-setup-icons'.
	All other related functions are changed.

	* emacs/mhc-xmas.el (mhc-xmas-category-icon-alist):
	Define as mhc-defcustom.
	(mhc-xmas/category-glyph-alist):
	Renamed from `mhc-xmas-category-glyph-alist'.
	(mhc-xmas/setup-icons): Renamed from `mhc-xmas-setup-icons'.
	All other related functions are changed.

2000-06-02  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (mhc-calendar-hnf-summary-insert): hnf's
		  'CAT' support.

2000-06-01  MIYOSHI Masanori  <miyoshi@ask.ne.jp>

	* emacs/mhc-calendar.el (mhc-calendar-hnf-summary-insert): Avoid
	summary insertion when no heading is found.

2000-06-01  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el (mhc-calendar-hnf-face-setup): Do ditto
		  mhc-face-setup.
	(mhc-calendar-hnf-edit): Call hnf-initial-function like hns.
	(mhc-calendar-hnf-mark-diary-entries): Fatal bug fix ^^;
	(mhc-calendar-hnf-summary-insert): More colorful, but i have no
		knowledge of hnf.

2000-06-01  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-logic.el (mhc-logic/week-of-month-alist): Key string
	are modified in lower case.
	(mhc-logic/day-of-week-alist): Ditto.
	(mhc-logic/month-alist): Ditto.
	(mhc-logic-parse-cond): Ignore case when parsing.

2000-06-01  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-schedule.el (mhc-schedule-todo-deadline): New defsubst.
	Returns the deadline day of the TODO.

	* emacs/mhc-summary.el (mhc-todo-string-heading): New user option.
	(mhc-todo-string-remaining-day): Ditto.
	(mhc-todo-string-deadline-day): Ditto.
	(mhc-todo-mergin): Ditto.
	(mhc-summary-make-todo-list): Put `mhc-todo-string-remaining-day'
	or `mhc-todo-string-deadline-day' on TODO.
	Use `mhc-schedule-todo-deadline' to get deadline day of TODO.

2000-05-31  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc.el (mhc-sync): New function.
	Bind mhc-sync process coding-system. Ignore illegal passwd request.

	* emacs/mhc-calendar.el: Display Hyper Nikki System's title in
		  summary view.

2000-05-31  Yuuichi Teranishi  <teranisi@quickhack.net>

	* emacs/mhc-xmas.el (mhc-xmas-setup-icons): Downcase category name.

	* emacs/mhc-bm.el (mhc-bm-setup-icons): Ditto.

	* emacs/mhc-wl.el (mhc-wl-summary-mode-setup):
	Set `wl-summary-buffer-name' as local variable.

	* icons: New directory.

	* icons/Anniversary.xbm, icons/Anniversary.xpm, icons/Birthday.xbm,
	icons/Birthday.xpm, icons/Business.xbm, icons/Business.xpm,
	icons/Holiday.xbm, icons/Holiday.xpm, icons/Other.xbm,
	icons/Other.xpm, icons/Private.xbm, icons/Private.xpm,
	icons/Vacation.xbm, icons/Vacation.xpm: New files (Sample icons).

	* emacs/mhc-summary.el (mhc-summary-icon-position): New constant.
	(mhc-summary/schedule-to-contents): Return a cons cell of xstring and
	icon.
	Space character is added to the xstring.
	(mhc-summary/insert-dayinfo-internal):
	Get icon from `mhc-summary/schedule-to-contents' and pass it to
	`mhc-summary/insert-strings'.
	(mhc-summary-make-todo-list): Get icon from
	`mhc-summary/schedule-to-contents' and pass it to
	`mhc-summary/insert-strings'.
	(mhc-summary/insert-strings): Added argument `icon' and pass it to
	`mhc-summary-insert-contents'.
	Don't add space character for each concat.
	(mhc-summary-insert-contents): Added argument `icon' and pass it to
	the `insert-summary-contents' function.

	* emacs/mhc-gnus.el (mhc-gnus-insert-summary-contents):
	Added argument `icon' and call `mhc-put-icon'.

	* emacs/mhc-wl.el (mhc-wl-insert-summary-contents):
	Added argument `icon' and call `mhc-put-icon'.
	(mhc-wl-summary-mode-setup): Set `wl-summary-buffer-name' to
	avoid treating MHC buffer as sticky.

	* emacs/mhc-mew.el (mhc-mew-insert-summary-contents):
	Added argument `icon' and call `mhc-put-icon'.

	* emacs/mhc.el (toplevel): Require 'mhc-xmas on XEmacs.
	Require 'mhc-bm if bitmap is installed.
	(mhc-use-icon-p): New function.
	(mhc-use-icon): New user option.
	(mhc-icon-path): Ditto.
	(mhc-setup): Call `mhc-icon-setup'.

	* emacs/mhc-xmas.el: New module.

	* emacs/mhc-bm.el: Ditto.

	* emacs/mhc-logic.el (mhc-logic-compile-file):
	Bind `byte-compile-warnings' as nil to silence byte-compiler of XEmacs.

	* emacs/mhc-wl.el (toplevel): Don't require 'mhc-mew.
	(mhc-wl-generate-summary-buffer): Define as function.

2000-05-30  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* mhc-file.el (mhc-file/backup-and-remove): Change path for
	removed schedule files.
	* mhc-record.el (mhc-record-copy): New function.
	* mhc-db.el (mhc-db-add-record-from-buffer): Replace copy-sequence
	with mhc-record-copy.
	* mhc.el (mhc-draft-finish): Change to preserve draft buffer when
	mhc-db-add-record-from-buffer returns nil.

2000-05-30  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/mhc-day.el (mhc-day-day-of-week-as-string): Fix typo.
	* emacs/mhc-logic.el (mhc-logic/day-of-week-alist): Ditto.

2000-05-30  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* emacs/CHANGES.ja, emacs/Makefile, emacs/mhc-compat.el,
	emacs/mhc-cvs.el, emacs/mhc-day.el, emacs/mhc-db.el,
	emacs/mhc-file.el, emacs/mhc-gnus.el, emacs/mhc-header.el,
	emacs/mhc-logic.el, emacs/mhc-mew.el, emacs/mhc-parse.el,
	emacs/mhc-record.el, emacs/mhc-slot.el, emacs/mhc-summary.el,
	emacs/mhc-vars.el, emacs/mhc-wl.el, emacs/nnmhc.el: New files.

	* emacs/00usage.jis, emacs/mhc-date.el, emacs/mhc-face.el,
	emacs/mhc-guess.el, emacs/mhc-minibuf.el, emacs/mhc-misc.el,
	emacs/mhc-schedule.el, emacs/mhc.el: Modified and improved.

2000-05-31  Hideyuki SHIRAI  <shirai@quickhack.net>

	* emacs/mhc-calendar.el: New file. MINI calender mode(like 'M-x
		  calendar').

	* emacs/mhc.el, mhc-minibuf.el: adapt to mhc-calendar.el

	* emacs/mhc-guess.el: tiny typo fix.

2000-05-29  Yoshinari NOMURA  <nom@quickhack.net>

	* 00readme.jis, 00todo.jis, emacs/00usage.jis,
		  samples/DOT.schedule.sample.jp, 00readme:
	add cvs date indicator Date: in Revised: header.

	* ruby-ext/lib/mhc-palm.rb, ruby-ext/lib/mhc-schedule.rb,
		  ruby-ext/lib/mhc-signal.rb, emacs/mhc-guess.el,
		  emacs/mhc-minibuf.el, emacs/mhc-misc.el,
		  emacs/mhc-schedule.el, emacs/mhc.el, ruby-ext/00readme,
		  ruby-ext/ext-helper.c, ruby-ext/ext-helper.h,
		  ruby-ext/lib/mhc-date.rb, ruby-ext/lib/mhc-gtk.rb,
		  ruby-ext/mhc_pilib.c, 00copyright, adb2mhc,
		  emacs/mhc-date.el, emacs/mhc-face.el, gemcal, mhc-sync,
		  mhc2palm, mscan, palm2mhc, today, today.pl:
	change copyright notices.

	* NEWS.jis, NEWS : info about 0.25.

	* 00todo.jis : add some memos.

2000-05-27  Yoshinari NOMURA  <nom@quickhack.net>

        * 00changes.jis: obsolete.

	* ChangeLog, NEWS: New file.

2000-05-26  Yoshinari NOMURA  <nom@quickhack.net>

	* emacs/mhc.el: menu fix for xemacs. (thanks to shirai san)

2000-05-26  Yuuichi Teranishi <teranisi@gohome.org>

	* emacs/mhc.el (mhc-scan-month):
	Set `wl-summary-buffer-number-regexp' and
	`wl-summary-buffer-msgdb'.

2000-05-25  Yoshinari NOMURA  <nom@quickhack.net>

	* ruby-ext/lib/mhc-schedule.rb: make sure put last \n.

	* mhc-sync: strict check not to access deleted schedule.
	fix typo.

	* emacs/mhc.el: mhc-version changed to "0.25pre3"

	* Newly restart.
